(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-688efcb9"],{"2cd7":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"Logistic-list-page"},[i("div",{staticClass:"wrapper"},[i("div",{staticClass:"controller"},[i("Row",{staticClass:"filter-group",class:{active:t.rowToggle},attrs:{type:"flex",gutter:20}},[i("Col",{staticClass:"filter-item",attrs:{xs:24,sm:12,md:8,lg:8,xl:6,xxl:6}},[i("Row",{attrs:{type:"flex",justify:"center",align:"middle"}},[i("Col",{staticClass:"child-title",attrs:{span:"8"}},[i("span",[t._v(t._s(t.$t("dt.form.LogisticName"))+"：")])]),i("Col",{attrs:{span:"16"}},[i("Input",{attrs:{search:"",placeholder:t.$t("dt.base.pleaseInput",{label:t.$t("dt.form.LogisticName")})},on:{"on-enter":t.handleFilterChange,"on-search":t.handleFilterChange},model:{value:t.filters.name_like,callback:function(e){t.$set(t.filters,"name_like",e)},expression:"filters.name_like"}})],1)],1)],1),i("Col",{staticClass:"filter-item",attrs:{xs:24,sm:12,md:8,lg:8,xl:6,xxl:6}},[i("Row",{attrs:{type:"flex",justify:"center",align:"middle"}},[i("Col",{staticClass:"child-title",attrs:{span:"8"}},[i("span",[t._v(t._s(t.$t("dt.form.status"))+"：")])]),i("Col",{attrs:{span:"16"}},[i("status",{on:{swtichStatus:t.handleFilterChange}})],1)],1)],1),i("Col",{staticClass:"filter-item",attrs:{xs:24,sm:12,md:8,lg:8,xl:6,xxl:6}},[i("Row",{attrs:{type:"flex",justify:"center",align:"middle"}},[i("Col",{staticClass:"child-title",attrs:{span:"8"}},[i("span",[t._v(t._s(t.$t("dt.base.sort"))+"：")])]),i("Col",{attrs:{span:"16"}},[i("sorts",{on:{swtichSorts:t.handleFilterChange}})],1)],1)],1),i("button",{staticClass:"row-toggle",attrs:{type:"button"},on:{click:function(e){return t.$store.commit("spinShow/rowToggle")}}},[t.rowToggle?i("Icon",{attrs:{type:"ios-arrow-up",size:"25",color:"#999"}}):i("Icon",{attrs:{type:"ios-arrow-down",size:"25",color:"#999"}})],1)],1),i("div",{staticClass:"btn-group"},[i("div",{staticClass:"left"},[t.$isHasMenuAuth("admin.LogisticAdd")?i("Button",{attrs:{type:"primary"},on:{click:function(e){return t.handleCheckHabitType({name:"admin.LogisticAdd"})}}},[i("Icon",{attrs:{type:"md-add"}}),t._v(t._s(t.$t("dt.form.LogisticAdd"))+" ")],1):t._e(),t.$isHasMenuAuth("admin.LogisticDelete")?i("Button",{attrs:{type:"error"},on:{click:function(e){return t.handleAsync(t.tableMultipleSelect)}}},[i("Icon",{attrs:{type:"md-trash"}}),t._v(t._s(t.$t("dt.form.deleteAll"))+" ")],1):t._e(),t.$isHasMenuAuth("admin.LogisticEdit")?i("Button",{attrs:{type:"success"},on:{click:function(e){return t.handleAsyncSavaAll(t.tableMultipleSelect)}}},[i("Icon",{attrs:{type:"md-create"}}),t._v(t._s(t.$t("dt.form.saveAll"))+" ")],1):t._e()],1),i("div",{staticClass:"right"},[t.$isHasMenuAuth("admin.LogisticExport")?i("Button",{attrs:{type:"warning"},on:{click:t.handleAsyncExport}},[i("Icon",{attrs:{type:"md-cloud-download"}}),t._v(t._s(t.$t("dt.form.export"))+"Excel ")],1):t._e()],1)]),i("div",{staticClass:"table"},[i("Table",{ref:"selection",attrs:{border:"",loading:t.loading&&t.isMethodList,columns:t.columns,data:t.formTemp.data},on:{"on-select-cancel":t.handleTableOnSelectCancel,"on-selection-change":t.handleTableSelectionChange}})],1),i("div",{staticClass:"page-list"},[i("Page",{attrs:{"show-total":"","show-sizer":"","show-elevator":"",total:t.formTemp.total,current:t.formTemp.current_page,"page-size-opts":t.formTemp.pageSizeOpts,"page-size":t.formTemp.per_page},on:{"on-page-size-change":t.handleOnPageSizeChange,"on-change":t.handleChangePage}})],1)],1)])])},n=[],s=(i("69bf"),i("5c4c"),i("d211")),o=i("b8f9"),l=i("efa4"),r={name:"RoleList",mixins:[l["a"]],data:function(){return{formTemp:{LogisticTypeList:[]}}},components:{},computed:{columns:function(){var t=this;return[{type:"selection",width:60,align:"center",fixed:"left"},{title:this.$t("dt.form.index"),type:"index",width:80,align:"center"},{title:this.$t("dt.form.LogisticName"),key:"name",minWidth:200,align:"center",render:function(e,i){var a=i.row.name;return t.$isHasMenuAuth("admin.LogisticEdit")&&-1!==t.selectTable.indexOf(i.row.id)?e("Input",{props:{size:"small",value:a,clearable:!0,placeholder:t.$t("dt.base.pleaseInput",{label:t.$t("dt.form.LogisticName")})},on:{"on-clear":function(){return t.handleSelectChange("",i.index,i.column.key)},input:function(e){t.handleSelectChange(e,i.index,i.column.key)}}},a):e(t.$isHasMenuAuth("admin.LogisticDetail")?"router-link":"span",{props:{to:{name:"admin.LogisticDetail",params:{id:i.row.id}}}},a)}},{title:this.$t("dt.base.telPhone"),key:"phone",width:150,align:"center"},{title:this.$t("dt.base.remark"),key:"remark",minWidth:200,maxWidth:300,tooltip:!0,align:"center"},{title:this.$t("dt.form.deletedAt"),key:"deletedAt",width:170,align:"center",sortable:!0,render:function(e,i){return e("span",t.$options.filters.formatTime(i.row.deletedAt))}},{title:this.$t("dt.form.updatedAt"),key:"updatedAt",width:170,align:"center",sortable:!0,render:function(e,i){return e("span",t.$options.filters.formatTime(i.row.updatedAt))}},{title:this.$t("dt.form.createdAt"),key:"createdAt",width:170,align:"center",sortable:!0,render:function(e,i){return e("span",t.$options.filters.formatTime(i.row.createdAt))}},{title:this.$t("dt.form.status"),key:"state",width:100,fixed:"right",align:"center",renderHeader:function(e,i){var a=i.column;return t.$isHasMenuAuth("admin.LogisticEdit")?e("div",[e("span",a.title),e("e-dropdown",{props:{columnKey:a.key,name:"label",value:"value",dataList:t.$options.filters.switchStatus([])},on:{handleDropdownChange:t.handleFormDataChange}})]):e("span",a.title)},render:function(e,i){var a=i.row.state;return t.$isHasMenuAuth("admin.LogisticEdit")&&-1!==t.selectTable.indexOf(i.row.id)?e("div",[e("e-select",{props:{current:a,name:"label",value:"value",dataList:t.$options.filters.switchStatus([])},on:{handleSelectChange:function(e){return t.handleSelectChange(e,i.index,i.column.key)}}})]):e("i-switch",{props:{value:o["a"].isNumber(a)?1===a:a,size:"large",loading:i.row.loading,disabled:!t.$isHasMenuAuth("admin.LogisticEdit")||(i.row.disabled||!1)},on:{"on-change":function(e){t.handleUpdateStatus(i.row,e)}}},[e("span",{slot:"open"},t.$t("dt.status.open")),e("span",{slot:"close"},t.$t("dt.status.close"))])}},{title:this.$t("dt.form.action"),key:"action",width:180,align:"center",fixed:"right",render:function(e,i){if(t.$isHasMenuAuth("admin.LogisticEdit")&&-1!==t.selectTable.indexOf(i.row.id))return e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.handleAsyncSavaAll(i.row)}}},t.$t("dt.form.save")),e("Button",{props:{type:"warning",size:"small"},on:{click:function(){t.handleTableRowCancelChecked(i.row)}}},t.$t("dt.form.cancel"))]);var a=[];return t.$isHasMenuAuth("admin.LogisticDetail")&&a.push(e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.handleCheckHabitType({name:"admin.LogisticDetail",params:{id:i.row.id}})}}},t.$t("dt.form.detail"))),t.$isHasMenuAuth("admin.LogisticEdit")&&a.push(e("Button",{props:{type:"warning",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.handleCheckHabitType({name:"admin.LogisticEdit",params:{id:i.row.id}})}}},t.$t("dt.form.edit"))),t.$isHasMenuAuth("admin.LogisticDelete")&&a.push(e("Button",{props:{type:o["a"].isEmpty(i.row.deletedAt)?"error":"success",size:"small"},on:{click:function(){o["a"].isEmpty(i.row.deletedAt)?t.handleAsync(i):t.handleRecoveryAsync(i)}}},o["a"].isEmpty(i.row.deletedAt)?t.$t("dt.form.delete"):t.$t("dt.form.recovery"))),e("div",a)}}]}},created:function(){this.handleList()},mounted:function(){},watch:{},filters:{},methods:{handleList:function(){var t=this,e=this.handleInitFields(this.columns),i=this.variables;this.$Http.Post({mutation:this.$Model.Logistics,variables:i,fields:e}).then((function(e){var i=e.data;t.formTemp=Object(s["a"])(Object(s["a"])({},t.formTemp),i),t.sortData(t.formTemp.data)}))},sortData:function(){var t=this;o["a"].each(this.formTemp.data,(function(e,i){e.index=(t.formTemp.current_page-1)*t.formTemp.per_page+i+1,e.loading=!1}))},handleRowItemSave:function(t,e){o["a"].isEmpty(t)||this.handleOnRecovery({api:this.$Model.LogisticEdit,item:t,type:2},e)},handleUpdateStatus:function(t,e){this.handleUpdateStatusFunc({api:this.$Model.LogisticEdit,item:t,value:e})},handleRecovery:function(t,e){o["a"].isEmpty(t)||this.handleOnRecovery({api:this.$Model.LogisticsRecovery,item:t},e)},handleDelete:function(t){o["a"].isEmpty(t.id)||o["a"].isEmpty(t.index)||this.handleOnDelete({api:this.$Model.LogisticsDelete,item:t})}}},d=r,c=(i("8824"),i("c701")),p=Object(c["a"])(d,a,n,!1,null,"c1844be8",null);e["default"]=p.exports},8824:function(t,e,i){"use strict";i("a502")},a502:function(t,e,i){}}]);