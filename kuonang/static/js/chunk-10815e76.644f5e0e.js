(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-10815e76"],{2025:function(e,t,a){},"30ec":function(e,t,a){"use strict";a("2025")},"4ec25":function(e,t,a){"use strict";a("6a61");var r=a("2e91"),l=a("d211"),o=a("5880"),s=a("b8f9"),n={data:function(){return{id:null,isReadonly:!1,formData:{branchId:this.$UserInfo.bid,state:!0,weight:1}}},props:{formData_bak:{type:Object,default:function(){return{}}},formModel:{type:Object,default:function(){return{}}},btnTitle:{type:String,default:""},tabName:{type:Array,default:function(){return[null]}}},created:function(){this.id=this.$GetParamsId(this),this.$FormCheck("*",this.formModel.readonly)&&(this.isReadonly=!0,this.ruleInline={})},computed:Object(l["a"])({},Object(o["mapState"])("base",{loading:function(e){return e.loading},isMethodList:function(e){return e.isMethodList}})),methods:{handleEmitData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.formData;this.$store.commit("popupModel/pageModal",{pageModal:!1}),this.$emit("formDataSubmit",{data:e})},handleFilterBranchChange:function(e){s["a"].isEmpty(e)||(this.formData.branchId=e)},handleSumbit:function(){var e=arguments,t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var l,o,n,d,i,m;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(l=e.length>0&&void 0!==e[0]?e[0]:t.formData,o=e.length>1&&void 0!==e[1]?e[1]:"form",l.state=!0===l.state||1*l.state===1?1:2,n=!0,d=!1,!s["a"].isString(o)){a.next=16;break}if(t.$refs[o]){a.next=11;break}n=!1,d=!0,a.next=14;break;case 11:return a.next=13,t.$refs[o].validate((function(e){return e}));case 13:d=a.sent;case 14:a.next=22;break;case 16:if(!s["a"].isArray(o)){a.next=22;break}return i=!0,s["a"].each(o,function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$refs[a]?t.$refs[a].validate((function(e){!1===e&&!0===i&&(i=!1)})):(n=!1,i=!0);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a.next=21,i;case 21:d=a.sent;case 22:if(!1!==n||!0!==d){a.next=25;break}return t.handleEmitData(l),a.abrupt("return");case 25:if(!1!==d){a.next=28;break}return t.$Message.error(t.$t("dt.form.checkFormComplete")),a.abrupt("return");case 28:m=t.$store.state.popupModel.pageModal,!0===m&&t.$store.commit("popupModel/loadData",{loadData:!0}),t.handleEmitData(l);case 31:case"end":return a.stop()}}),a)})))()}}};t["a"]=n},b204:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-content-layer"},[a("Tabs",{staticClass:"tabs",attrs:{type:"card"}},[a("TabPane",{attrs:{label:e.tabName[0]}},[a("Form",{ref:"form",staticClass:"form-page",attrs:{"label-position":"right","label-width":100,model:e.formData,rules:e.ruleInline}},[a("Col",{staticClass:"input-item form-item-flex",attrs:{xs:24,sm:24,md:20,lg:16,xl:14,xxl:12}},[a("FormItem",{directives:[{name:"show",rawName:"v-show",value:!e.$FormCheck("name",e.formModel.hide),expression:"!$FormCheck('name', formModel.hide)"}],attrs:{label:e.$t("dt.form.FinanceName"),prop:"name"}},[a("Input",{attrs:{readonly:e.$FormCheck("name",e.formModel.readonly),clearable:!e.$FormCheck("name",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseInput",{label:e.$t("dt.form.FinanceName")})},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),a("FormItem",{attrs:{label:e.$t("dt.base.Handling"),prop:"handleUserId"}},[a("ListSelectModal",{ref:"handlingUser",attrs:{title:e.$t("dt.base.pleaseSelect",{label:e.$t("dt.base.Handling")}),route:"UserAdd",api:e.$Model.Users,type:2,column:[{username:e.$t("dt.base.Handling")},{phone:e.$t("dt.form.Phone")}],attrs:{label:"username",value:"id"},callback:e.handleListModalCodeDataFunc,readonly:e.$FormCheck("handleUserId",e.formModel.readonly),clearable:!e.$FormCheck("handleUserId",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseSelect",{label:e.$t("dt.base.Handling")})},model:{value:e.formData.handleUserId,callback:function(t){e.$set(e.formData,"handleUserId",t)},expression:"formData.handleUserId"}},[e.$isHasMenuAuth("admin.GroupList")?a("div",{staticClass:"filter-item",attrs:{slot:"filter"},slot:"filter"},[a("span",[e._v(e._s(e.$t("dt.form.parentGroup"))+"：")]),a("Select",{attrs:{clearable:"",placeholder:e.$t("dt.base.pleaseSelect",{label:e.$t("dt.form.group")})},on:{"on-change":e.handleFilterHandlingUserChange}},e._l(e.formTemp.groupList,(function(t){return a("Option",{key:t.id,attrs:{value:t.id}},[e._v(" "+e._s(t.name)+" ")])})),1)],1):e._e()])],1)],1),a("Col",{staticClass:"input-item form-item-flex",attrs:{xs:24,sm:24,md:20,lg:16,xl:14,xxl:12}},[a("FormItem",{directives:[{name:"show",rawName:"v-show",value:!e.$FormCheck("orderTye",e.formModel.hide),expression:"!$FormCheck('orderTye', formModel.hide)"}],style:{flex:e.formData.orderTye&&-1===[6,7,8].indexOf(e.formData.orderTye)?1:.5},attrs:{label:""+e.$t("dt.form.OrderType"),prop:"orderTye"}},[a("Select",{attrs:{disabled:e.$FormCheck("orderTye",e.formModel.readonly),readonly:e.$FormCheck("orderTye",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseSelect",{label:e.$t("dt.form.OrderType")})},on:{"on-change":e.handleOrderTyeChange},model:{value:e.formData.orderTye,callback:function(t){e.$set(e.formData,"orderTye",t)},expression:"formData.orderTye"}},e._l(e.$options.filters.FinanceOrderType([]),(function(t){return a("Option",{key:t.value,attrs:{value:t.value,disabled:6===t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:1===e.formData.orderTye,expression:"formData.orderTye === 1"}],attrs:{label:e.$t("dt.form.RelationOrder"),prop:"purchaseId"}},[a("ListSelectModal",{ref:"purchaseOrder",attrs:{title:e.$t("dt.base.pleaseSelect",{label:e.$t("dt.form.PurchaseOrder")}),api:e.$Model.PurchaseOrders,type:2,column:[{orderNo:e.$t("dt.form.OrderNo")},{name:e.$t("dt.form.OrderName")},{money:e.$t("dt.form.PurchaseMoney"),width:100,filters:"money"},{financeLog:{money:e.$t("dt.form.PaidMoney")},width:100,filters:e.handleFinanceLogFilter},{supply:{name:e.$t("dt.form.Supply")}}],merge:["supply.id","supply.name","supply.bank","supply.bankUser","supply.bankAccount","financeLog.id","financeLog.money"],attrs:{label:"orderNo",value:"id"},callback:e.handleSupplyCallback,readonly:e.$FormCheck("purchaseId",e.formModel.readonly),clearable:!e.$FormCheck("purchaseId",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseSelect",{label:e.$t("dt.form.PurchaseOrder")})},model:{value:e.formData.purchaseId,callback:function(t){e.$set(e.formData,"purchaseId",t)},expression:"formData.purchaseId"}},[a("div",{staticStyle:{flex:"2 0 0"},attrs:{slot:"filter"},slot:"filter"},[a("div",{staticClass:"filter-item"},[a("span",[e._v(e._s(e.$t("dt.form.OrderStatus"))+"：")]),a("Select",{attrs:{clearable:"",placeholder:e.$t("dt.base.pleaseSelect",{label:e.$t("dt.form.OrderStatus")})},on:{"on-change":e.handlePurchaseOrderFilter},model:{value:e.filter.purchaseOrder.status,callback:function(t){e.$set(e.filter.purchaseOrder,"status",t)},expression:"filter.purchaseOrder.status"}},e._l(e.$options.filters.putPurchaseType([]),(function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1),e.$isHasMenuAuth("admin.SupplyList")?a("div",{staticClass:"filter-item"},[a("span",[e._v(e._s(e.$t("dt.form.Supply"))+"：")]),a("Select",{attrs:{clearable:"",placeholder:e.$t("dt.base.pleaseSelect",{label:e.$t("dt.form.Supply")})},on:{"on-change":e.handlePurchaseOrderFilter},model:{value:e.filter.purchaseOrder.supplyId,callback:function(t){e.$set(e.filter.purchaseOrder,"supplyId",t)},expression:"filter.purchaseOrder.supplyId"}},e._l(e.formTemp.supplyList,(function(t){return a("Option",{key:t.id,attrs:{value:t.id}},[e._v(" "+e._s(t.name)+" ")])})),1)],1):e._e()])])],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:2===e.formData.orderTye,expression:"formData.orderTye === 2"}],attrs:{label:e.$t("dt.form.RelationOrder"),prop:"revokeProductId"}},[a("ListSelectModal",{ref:"purchaseRevokeOrder",attrs:{title:e.$t("dt.base.pleaseSelect",{label:e.$t("dt.form.RevokeProductOrder")}),api:e.$Model.PurchaseRevokeProducts,type:2,column:[{orderNo:e.$t("dt.form.OrderNo")},{number:e.$t("dt.form.RevokeProductNumber"),width:100},{money:e.$t("dt.form.RevokeProductMoney"),width:100,filters:"money"},{supply:{name:e.$t("dt.form.Supply")}}],merge:["supply.id","supply.name","supply.bank","supply.bankUser","supply.bankAccount","financeLog.id","financeLog.money"],attrs:{label:"orderNo",value:"id"},filter:{tye:1},callback:e.handleSupplyCallback,readonly:e.$FormCheck("revokeProductId",e.formModel.readonly),clearable:!e.$FormCheck("revokeProductId",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseSelect",{label:e.$t("dt.form.RevokeProductOrder")})},model:{value:e.formData.revokeProductId,callback:function(t){e.$set(e.formData,"revokeProductId",t)},expression:"formData.revokeProductId"}},[a("div",{staticStyle:{flex:"2 0 0"},attrs:{slot:"filter"},slot:"filter"},[a("div",{staticClass:"filter-item"},[a("span",[e._v(e._s(e.$t("dt.form.OrderStatus"))+"：")]),a("Select",{attrs:{clearable:"",placeholder:e.$t("dt.base.pleaseSelect",{label:e.$t("dt.form.OrderStatus")})},on:{"on-change":e.handlePurchaseRevokeOrderFilter},model:{value:e.filter.purchaseRevokeOrder.status,callback:function(t){e.$set(e.filter.purchaseRevokeOrder,"status",t)},expression:"filter.purchaseRevokeOrder.status"}},e._l(e.$options.filters.revokeProductStatus([]),(function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1),e.$isHasMenuAuth("admin.SupplyList")?a("div",{staticClass:"filter-item"},[a("span",[e._v(e._s(e.$t("dt.form.Supply"))+"：")]),a("Select",{attrs:{clearable:"",placeholder:e.$t("dt.base.pleaseSelect",{label:e.$t("dt.form.Supply")})},on:{"on-change":e.handlePurchaseRevokeOrderFilter},model:{value:e.filter.purchaseRevokeOrder.supplyId,callback:function(t){e.$set(e.filter.purchaseRevokeOrder,"supplyId",t)},expression:"filter.purchaseRevokeOrder.supplyId"}},e._l(e.formTemp.supplyList,(function(t){return a("Option",{key:t.id,attrs:{value:t.id}},[e._v(" "+e._s(t.name)+" ")])})),1)],1):e._e()])])],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:3===e.formData.orderTye,expression:"formData.orderTye === 3"}],attrs:{label:e.$t("dt.form.RelationOrder"),prop:"revokeProductId"}},[a("ListSelectModal",{ref:"stockRevokeOrder",attrs:{title:e.$t("dt.base.pleaseSelect",{label:e.$t("dt.form.StockRevokeOrder")}),api:e.$Model.PurchaseRevokeProducts,type:2,column:[{orderNo:e.$t("dt.form.OrderNo")},{money:e.$t("dt.form.PurchasePrice"),width:100,filters:"money"},{financeLog:{money:e.$t("dt.form.PaidMoney")},width:100,filters:function(){}},{supply:{name:e.$t("dt.form.Supply")}}],merge:["supply.id","supply.name","supply.bank","supply.bankUser","supply.bankAccount","financeLog.id","financeLog.money"],attrs:{label:"orderNo",value:"id"},filter:{tye:3},callback:e.handleSupplyCallback,readonly:e.$FormCheck("revokeProductId",e.formModel.readonly),clearable:!e.$FormCheck("revokeProductId",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseSelect",{label:e.$t("dt.form.StockRevokeOrder")})},model:{value:e.formData.revokeProductId,callback:function(t){e.$set(e.formData,"revokeProductId",t)},expression:"formData.revokeProductId"}},[a("div",{staticStyle:{flex:"2 0 0"},attrs:{slot:"filter"},slot:"filter"},[a("div",{staticClass:"filter-item"},[a("span",[e._v(e._s(e.$t("dt.form.OrderStatus"))+"：")]),a("Select",{attrs:{clearable:"",placeholder:e.$t("dt.base.pleaseSelect",{label:e.$t("dt.form.OrderStatus")})},on:{"on-change":e.handleStockRevokeOrderFilter},model:{value:e.filter.stockRevokeOrder.status,callback:function(t){e.$set(e.filter.stockRevokeOrder,"status",t)},expression:"filter.stockRevokeOrder.status"}},e._l(e.$options.filters.revokeProductStatus([]),(function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1),e.$isHasMenuAuth("admin.SupplyList")?a("div",{staticClass:"filter-item"},[a("span",[e._v(e._s(e.$t("dt.form.Supply"))+"：")]),a("Select",{attrs:{clearable:"",placeholder:e.$t("dt.base.pleaseSelect",{label:e.$t("dt.form.Supply")})},on:{"on-change":e.handleStockRevokeOrderFilter},model:{value:e.filter.stockRevokeOrder.supplyId,callback:function(t){e.$set(e.filter.stockRevokeOrder,"supplyId",t)},expression:"filter.stockRevokeOrder.supplyId"}},e._l(e.formTemp.supplyList,(function(t){return a("Option",{key:t.id,attrs:{value:t.id}},[e._v(" "+e._s(t.name)+" ")])})),1)],1):e._e()])])],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:4===e.formData.orderTye,expression:"formData.orderTye === 4"}],attrs:{label:e.$t("dt.form.RelationOrder"),prop:"salesOrderId"}},[a("ListSelectModal",{ref:"salesOrder",attrs:{title:e.$t("dt.base.pleaseSelect",{label:e.$t("dt.form.SalesOrder")}),api:e.$Model.SalesOrders,type:2,column:[{orderNo:e.$t("dt.form.OrderNo")},{money:e.$t("dt.form.OrderMoney"),width:100,filters:"money"},{financeLog:{money:e.$t("dt.form.PaidMoney")},width:100,filters:function(){}},{customer:{name:e.$t("dt.form.Customer")}},{status:e.$t("dt.form.OrderStatus"),width:100,filters:"orderStatus"}],merge:["customer.id","customer.name","customer.bank","customer.bankUser","customer.bankAccount","financeLog.id","financeLog.money"],attrs:{label:"orderNo",value:"id"},callback:e.handleCustomerCallback,readonly:e.$FormCheck("salesOrderId",e.formModel.readonly),clearable:!e.$FormCheck("salesOrderId",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseSelect",{label:e.$t("dt.form.SalesOrder")})},model:{value:e.formData.salesOrderId,callback:function(t){e.$set(e.formData,"salesOrderId",t)},expression:"formData.salesOrderId"}},[a("div",{staticStyle:{flex:"2 0 0"},attrs:{slot:"filter"},slot:"filter"},[a("div",{staticClass:"filter-item"},[a("span",[e._v(e._s(e.$t("dt.form.OrderStatus"))+"：")]),a("Select",{attrs:{clearable:"",placeholder:e.$t("dt.base.pleaseSelect",{label:e.$t("dt.form.OrderStatus")})},on:{"on-change":e.handleSalesOrderFilter},model:{value:e.filter.salesOrder.status,callback:function(t){e.$set(e.filter.salesOrder,"status",t)},expression:"filter.salesOrder.status"}},e._l(e.$options.filters.orderStatus([]),(function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1),e.$isHasMenuAuth("admin.CustomerList")?a("div",{staticClass:"filter-item"},[a("span",[e._v(e._s(e.$t("dt.form.Customer"))+"：")]),a("Select",{attrs:{clearable:"",placeholder:e.$t("dt.base.pleaseSelect",{label:e.$t("dt.form.Supply")})},on:{"on-change":e.handleSalesOrderFilter},model:{value:e.filter.salesOrder.customerId,callback:function(t){e.$set(e.filter.salesOrder,"customerId",t)},expression:"filter.salesOrder.customerId"}},e._l(e.formTemp.customerList,(function(t){return a("Option",{key:t.id,attrs:{value:t.id}},[e._v(" "+e._s(t.name)+" ")])})),1)],1):e._e()])])],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:5===e.formData.orderTye,expression:"formData.orderTye === 5"}],attrs:{label:e.$t("dt.form.RelationOrder"),prop:"revokeProductId"}},[a("ListSelectModal",{ref:"salesRevoke",attrs:{title:e.$t("dt.base.pleaseSelect",{label:e.$t("dt.form.SalesRevoke")}),api:e.$Model.PurchaseRevokeProducts,type:2,column:[{orderNo:e.$t("dt.form.OrderNo")},{money:e.$t("dt.form.PurchasePrice"),filters:"money"},{financeLog:{money:e.$t("dt.form.PaidMoney")},filters:function(){}}],merge:["customer.id","customer.name","customer.bank","customer.bankUser","customer.bankAccount","financeLog.id","financeLog.money"],attrs:{label:"orderNo",value:"id"},filter:{tye:2},callback:e.handleCustomerCallback,readonly:e.$FormCheck("revokeProductId",e.formModel.readonly),clearable:!e.$FormCheck("revokeProductId",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseSelect",{label:e.$t("dt.form.SalesRevokeOrder")})},model:{value:e.formData.revokeProductId,callback:function(t){e.$set(e.formData,"revokeProductId",t)},expression:"formData.revokeProductId"}},[a("div",{staticStyle:{flex:"1 0 0"},attrs:{slot:"filter"},slot:"filter"},[a("div",{staticClass:"filter-item"},[a("span",[e._v(e._s(e.$t("dt.form.OrderStatus"))+"：")]),a("Select",{attrs:{clearable:"",placeholder:e.$t("dt.base.pleaseSelect",{label:e.$t("dt.form.OrderStatus")})},on:{"on-change":e.handleSalesRevokeFilter},model:{value:e.filter.salesRevoke.status,callback:function(t){e.$set(e.filter.salesRevoke,"status",t)},expression:"filter.salesRevoke.status"}},e._l(e.$options.filters.revokeProductStatus([]),(function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1)])])],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:99===e.formData.orderTye,expression:"formData.orderTye === 99"}],attrs:{label:e.$t("dt.form.FinanceCategory"),prop:"categoryId"}},[a("ListSelectModal",{ref:"salesRevoke",attrs:{title:e.$t("dt.base.pleaseSelect",{label:e.$t("dt.form.FinanceCategory")}),route:"FinanceTypeAdd",api:e.$Model.FinanceTypes,type:2,column:[{name:e.$t("dt.form.CategoryName")},{remark:e.$t("dt.base.remark")}],attrs:{label:"name",value:"id"},readonly:e.$FormCheck("categoryId",e.formModel.readonly),clearable:!e.$FormCheck("categoryId",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseSelect",{label:e.$t("dt.form.FinanceCategory")})},model:{value:e.formData.categoryId,callback:function(t){e.$set(e.formData,"categoryId",t)},expression:"formData.categoryId"}})],1)],1),a("Col",{staticClass:"input-item form-item-flex",attrs:{xs:24,sm:24,md:20,lg:16,xl:14,xxl:12}},[a("FormItem",{directives:[{name:"show",rawName:"v-show",value:!e.$FormCheck("tye",e.formModel.hide),expression:"!$FormCheck('tye', formModel.hide)"}],attrs:{label:e.$t("dt.form.FinanceType"),prop:"tye"}},[a("RadioGroup",{attrs:{type:"button"},on:{"on-change":e.handleTyeChange},model:{value:e.formData.tye,callback:function(t){e.$set(e.formData,"tye",t)},expression:"formData.tye"}},e._l(e.$options.filters.FinanceType([]),(function(t){return a("Radio",{key:t.value,attrs:{clearable:!e.$FormCheck("tye",e.formModel.readonly),disabled:e.$FormCheck("tye",e.formModel.readonly),label:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:!e.$FormCheck("money",e.formModel.hide),expression:"!$FormCheck('money', formModel.hide)"}],staticClass:"auto-width",attrs:{label:""+e.$t("dt.base.Money"),prop:"money"}},[a("InputNumber",{attrs:{min:0,readonly:e.$FormCheck("money",e.formModel.readonly),clearable:!e.$FormCheck("money",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseInput",{label:""+e.$t("dt.base.Money")})},model:{value:e.formData.money,callback:function(t){e.$set(e.formData,"money",t)},expression:"formData.money"}}),a("span",[e._v(" "+e._s(e.$t("dt.base.unit")))])],1)],1),a("Col",{staticClass:"input-item form-item-flex",attrs:{xs:24,sm:24,md:20,lg:16,xl:14,xxl:12}},[a("FormItem",{directives:[{name:"show",rawName:"v-show",value:!e.$FormCheck("toUser",e.formModel.hide),expression:"!$FormCheck('toUser', formModel.hide)"}],attrs:{label:e.$t("dt.form.FinanceObject"),prop:"toUser"}},[a("Select",{attrs:{clearable:!e.$FormCheck("toUser",e.formModel.readonly),disabled:e.$FormCheck("toUser",e.formModel.readonly),readonly:e.$FormCheck("toUser",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseSelect",{label:e.$t("dt.form.FinanceObject")})},on:{"on-change":e.handleToUserChange},model:{value:e.formData.toUser,callback:function(t){e.$set(e.formData,"toUser",t)},expression:"formData.toUser"}},e._l(e.$options.filters.financeObject([]),(function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:!e.$FormCheck("payMode",e.formModel.hide),expression:"!$FormCheck('payMode', formModel.hide)"}],attrs:{label:e.$t("dt.form.PayMode"),prop:"payMode"}},[a("RadioGroup",{attrs:{type:"button"},on:{"on-change":e.handlePayModeChange},model:{value:e.formData.payMode,callback:function(t){e.$set(e.formData,"payMode",t)},expression:"formData.payMode"}},e._l(e.$options.filters.payMode([]),(function(t){return a("Radio",{key:t.value,attrs:{clearable:!e.$FormCheck("payMode",e.formModel.readonly),disabled:e.$FormCheck("payMode",e.formModel.readonly),label:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1)],1),a("Col",{staticClass:"input-item form-item-flex",attrs:{xs:24,sm:24,md:20,lg:16,xl:14,xxl:12}},[a("FormItem",{directives:[{name:"show",rawName:"v-show",value:1===e.formData.toUser,expression:"formData.toUser === 1"}],style:{flex:e.formData.tye&&1===e.formData.payMode?1:.5},attrs:{label:e.$t("dt.form.Supply"),prop:"supplyId"}},[a("ListSelectModal",{ref:"supply",attrs:{title:e.$t("dt.base.pleaseSelect",{label:e.$t("dt.form.Supply")}),route:"SupplyAdd",api:e.$Model.Supplys,type:2,column:[{name:e.$t("dt.form.Supply")},{code:e.$t("dt.form.SupplyCode")},{telPhone:e.$t("dt.base.telPhone")}],merge:["bank","bankUser","bankAccount"],attrs:{label:"name",value:"id"},filter:e.filter.supply,callback:e.handleListModalCodeDataFunc,readonly:e.$FormCheck("supplyId",e.formModel.readonly),clearable:!e.$FormCheck("supplyId",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseSelect",{label:e.$t("dt.form.SupplyName")})},model:{value:e.formData.supplyId,callback:function(t){e.$set(e.formData,"supplyId",t)},expression:"formData.supplyId"}},[a("div",{staticClass:"filter-item",attrs:{slot:"filter"},slot:"filter"},[a("span",[e._v(e._s(e.$t("dt.form.SupplyCode"))+"：")]),a("Input",{attrs:{search:"","enter-button":"",placeholder:e.$t("dt.base.pleaseInput",{label:e.$t("dt.form.SupplyCode")})},on:{"on-enter":e.handleFilterSupplyCodeChange,"on-search":e.handleFilterSupplyCodeChange},model:{value:e.filter.supply.code_like,callback:function(t){e.$set(e.filter.supply,"code_like",t)},expression:"filter.supply.code_like"}})],1)])],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:2===e.formData.toUser,expression:"formData.toUser === 2"}],style:{flex:e.formData.tye&&1===e.formData.payMode?1:.5},attrs:{label:e.$t("dt.form.Customer"),prop:"customerId"}},[a("ListSelectModal",{ref:"customer",attrs:{title:e.$t("dt.base.pleaseSelect",{label:e.$t("dt.form.Customer")}),route:"CustomerAdd",api:e.$Model.Customers,type:2,column:[{name:e.$t("dt.form.Customer")},{code:e.$t("dt.form.CustomerCode")},{telPhone:e.$t("dt.base.telPhone")}],merge:["bank","bankUser","bankAccount"],attrs:{label:"name",value:"id"},filter:e.filter.customer,callback:e.handleListModalCodeDataFunc,readonly:e.$FormCheck("customerId",e.formModel.readonly),clearable:!e.$FormCheck("customerId",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseSelect",{label:e.$t("dt.form.CustomerName")})},model:{value:e.formData.customerId,callback:function(t){e.$set(e.formData,"customerId",t)},expression:"formData.customerId"}},[a("div",{staticClass:"filter-item",attrs:{slot:"filter"},slot:"filter"},[a("span",[e._v(e._s(e.$t("dt.form.CustomerCode"))+"：")]),a("Input",{attrs:{search:"","enter-button":"",placeholder:e.$t("dt.base.pleaseInput",{label:e.$t("dt.form.CustomerCode")})},on:{"on-enter":e.handleFilterCustomerCodeChange,"on-search":e.handleFilterCustomerCodeChange},model:{value:e.filter.customer.code_like,callback:function(t){e.$set(e.filter.customer,"code_like",t)},expression:"filter.customer.code_like"}})],1)])],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:3===e.formData.toUser,expression:"formData.toUser === 3"}],style:{flex:e.formData.tye&&1===e.formData.payMode?1:.5},attrs:{label:e.$t("dt.form.staff"),prop:"userId"}},[a("ListSelectModal",{ref:"user",attrs:{title:e.$t("dt.base.pleaseSelect",{label:e.$t("dt.form.staff")}),route:"UserAdd",api:e.$Model.Users,type:2,column:[{username:e.$t("dt.form.StaffName")},{phone:e.$t("dt.form.Phone")}],merge:["bank","bankUser","bankAccount"],attrs:{label:"username",value:"id"},callback:e.handleListModalCodeDataFunc,readonly:e.$FormCheck("userId",e.formModel.readonly),clearable:!e.$FormCheck("userId",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseSelect",{label:e.$t("dt.form.StaffName")})},model:{value:e.formData.userId,callback:function(t){e.$set(e.formData,"userId",t)},expression:"formData.userId"}},[e.$isHasMenuAuth("admin.GroupList")?a("div",{staticClass:"filter-item",attrs:{slot:"filter"},slot:"filter"},[a("span",[e._v(e._s(e.$t("dt.form.parentGroup"))+"：")]),a("Select",{attrs:{clearable:"",placeholder:e.$t("dt.base.pleaseSelect",{label:e.$t("dt.form.group")})},on:{"on-change":e.handleFilterUserChange}},e._l(e.formTemp.groupList,(function(t){return a("Option",{key:t.id,attrs:{value:t.id}},[e._v(" "+e._s(t.name)+" ")])})),1)],1):e._e()])],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:4===e.formData.toUser,expression:"formData.toUser === 4"}],style:{flex:e.formData.tye&&1===e.formData.payMode?1:.5},attrs:{label:e.$t("dt.form.Partners"),prop:"partner"}},[a("Input",{attrs:{readonly:e.$FormCheck("partner",e.formModel.readonly),clearable:!e.$FormCheck("partner",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseInput",{label:e.$t("dt.form.Partners")})},model:{value:e.formData.partner,callback:function(t){e.$set(e.formData,"partner",t)},expression:"formData.partner"}})],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:1===e.formData.tye&&1===e.formData.payMode,expression:"formData.tye === 1 && formData.payMode === 1"}],style:{flex:e.formData.toUser?1:.5},attrs:{label:e.$t("dt.form.PayChannel"),prop:"payChannel"}},[a("Input",{attrs:{readonly:e.$FormCheck("payChannel",e.formModel.readonly),clearable:!e.$FormCheck("payChannel",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseInput",{label:e.$t("dt.form.PayChannel")})},model:{value:e.formData.payChannel,callback:function(t){e.$set(e.formData,"payChannel",t)},expression:"formData.payChannel"}})],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:e.formData.toUser&&2===e.formData.tye&&1===e.formData.payMode,expression:"formData.toUser && formData.tye === 2 && formData.payMode === 1"}],attrs:{label:e.$t("dt.form.Collection")}},[a("ListSelectModal",{ref:"user",attrs:{title:e.$t("dt.base.pleaseSelect",{label:e.$t("dt.form.Collection")}),route:"CollectionAdd",api:e.$Model.Collections,type:2,column:[{name:e.$t("dt.form.Collection")},{username:e.$t("dt.form.Username")},{account:e.$t("dt.form.Account")},{remark:e.$t("dt.base.remark")}],attrs:{label:"name",value:"id"},callback:e.handleCollectionCallback,readonly:e.isReadonly,clearable:!e.isReadonly,placeholder:e.$t("dt.base.pleaseSelect",{label:e.$t("dt.form.Collection")})},model:{value:e.formData.collectionId,callback:function(t){e.$set(e.formData,"collectionId",t)},expression:"formData.collectionId"}})],1)],1),1===e.formData.tye&&1===e.formData.payMode||e.formData.collectionId?a("Col",{staticClass:"input-item form-item-flex",attrs:{xs:24,sm:24,md:20,lg:16,xl:14,xxl:12}},[a("FormItem",{attrs:{label:e.$t("dt.form.Username"),prop:"payName"}},[a("Input",{attrs:{readonly:e.$FormCheck("payName",e.formModel.readonly),clearable:!e.$FormCheck("payName",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseInput",{label:e.$t("dt.form.Username")})},model:{value:e.formData.payName,callback:function(t){e.$set(e.formData,"payName",t)},expression:"formData.payName"}})],1),a("FormItem",{attrs:{label:e.$t("dt.form.Account"),prop:"payNo"}},[a("Input",{attrs:{readonly:e.$FormCheck("payNo",e.formModel.readonly),clearable:!e.$FormCheck("payNo",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseInput",{label:e.$t("dt.form.Account")})},model:{value:e.formData.payNo,callback:function(t){e.$set(e.formData,"payNo",t)},expression:"formData.payNo"}})],1)],1):e._e(),e.formData.tye&&e.formData.toUser&&e.formData.payMode?a("Col",{staticClass:"input-item form-item-flex",attrs:{xs:24,sm:24,md:20,lg:16,xl:14,xxl:12}},[1===e.formData.tye&&1===e.formData.payMode||e.formData.collectionId?a("FormItem",{attrs:{label:e.$t("dt.form.FlowingWater"),prop:"payNumber"}},[a("Input",{attrs:{readonly:e.$FormCheck("payNumber",e.formModel.readonly),clearable:!e.$FormCheck("payNumber",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseInput",{label:e.$t("dt.form.FlowingWater")})},model:{value:e.formData.payNumber,callback:function(t){e.$set(e.formData,"payNumber",t)},expression:"formData.payNumber"}})],1):e._e(),a("FormItem",{style:{flex:2===e.formData.tye&&!e.formData.collectionId||2===e.formData.payMode?.5:1},attrs:{label:e.$t("dt.form.PayTime"),prop:"payTime"}},[a("DatePicker",{attrs:{type:"date",disabled:e.$FormCheck("payTime",e.formModel.readonly),readonly:e.$FormCheck("payTime",e.formModel.readonly),clearable:!e.$FormCheck("payTime",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseInput",{label:e.$t("dt.form.PayTime")})},model:{value:e.formData.payTime,callback:function(t){e.$set(e.formData,"payTime",t)},expression:"formData.payTime"}})],1)],1):e._e(),e.$FormCheck("voucher",e.formModel.hide)?e._e():a("Col",{staticClass:"input-item form-item-flex",attrs:{xs:24,sm:16,md:16,lg:12,xl:8,xxl:6}},[a("FormItem",{attrs:{label:""+e.$t("dt.base.Upload")+e.$t("dt.form.Voucher"),prop:"voucher"}},[a("UploadFile",{attrs:{autoUpload:!0,disabled:e.$FormCheck("voucher",e.formModel.readonly)},model:{value:e.formData.voucher,callback:function(t){e.$set(e.formData,"voucher",t)},expression:"formData.voucher"}},[e.formData.voucher?a("div",{staticClass:"upload-list-cover"},[a("img",{staticStyle:{"max-width":"100%",display:"block",margin:"auto"},attrs:{src:e._f("formatImage")(e.formData.voucher)}}),e.formData.voucher?a("div",{staticClass:"icon-layer"},[a("Icon",{attrs:{size:"35",type:"ios-eye-outline",color:"#fff"},on:{click:function(t){return t.stopPropagation(),e.handleView(e.formData.voucher)}}}),a("Icon",{attrs:{size:"35",type:"ios-camera-outline",color:"#fff"}}),a("Icon",{attrs:{size:"35",type:"md-trash",color:"#fff"},on:{click:function(t){t.stopPropagation(),e.formData.voucher=""}}})],1):e._e()]):a("div",{staticStyle:{padding:"20px 0"}},[a("Icon",{staticStyle:{color:"#3399ff"},attrs:{type:"ios-cloud-upload",size:"52"}}),a("p",[e._v("Click or drag files here to upload")])],1)])],1)],1),e.$FormCheck("status",e.formModel.hide)?e._e():a("Col",{staticClass:"input-item",attrs:{xs:24,sm:16,md:16,lg:12,xl:8,xxl:6}},[a("FormItem",{directives:[{name:"show",rawName:"v-show",value:!e.$FormCheck("status",e.formModel.hide),expression:"!$FormCheck('status', formModel.hide)"}],attrs:{label:""+e.$t("dt.form.status"),prop:"status"}},[a("Select",{attrs:{disabled:e.$FormCheck("status",e.formModel.readonly),readonly:e.$FormCheck("status",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseSelect",{label:e.$t("dt.form.status")})},model:{value:e.formData.status,callback:function(t){e.$set(e.formData,"status",t)},expression:"formData.status"}},e._l(e.$options.filters.verify([]),(function(t){return a("Option",{key:t.value,attrs:{value:t.value,disabled:6===t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1)],1),a("Col",{directives:[{name:"show",rawName:"v-show",value:!e.$FormCheck("remark",e.formModel.hide),expression:"!$FormCheck('remark', formModel.hide)"}],staticClass:"input-item form-item-flex",attrs:{xs:24,sm:24,md:20,lg:16,xl:14,xxl:12}},[a("FormItem",{attrs:{label:e.$t("dt.base.remark"),prop:"remark"}},[a("Input",{attrs:{readonly:e.$FormCheck("remark",e.formModel.readonly),clearable:!e.$FormCheck("remark",e.formModel.readonly),maxlength:"255","show-word-limit":"",type:"textarea",rows:4,placeholder:e.$t("dt.base.pleaseInput",{label:e.$t("dt.base.remark")})},model:{value:e.formData.remark,callback:function(t){e.$set(e.formData,"remark",t)},expression:"formData.remark"}})],1)],1),a("Col",{staticClass:"input-item",attrs:{xs:24,sm:16,md:16,lg:12,xl:8,xxl:6}},[a("FormItem",[!e.isReadonly&&e.$isHasMenuAuth("admin.FinanceAdd")||!e.isReadonly&&e.$isHasMenuAuth("admin.FinanceEdit")?a("Button",{attrs:{type:"primary",loading:e.loading},on:{click:e.handleSumbitCheck}},[e._v(" "+e._s(e.btnTitle)+" ")]):e.$isHasMenuAuth("admin.FinanceEdit")?a("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary"},on:{click:function(t){return e.handleCheckHabitType({name:"admin.FinanceEdit",params:{id:e.id}})}}},[e._v(" "+e._s(e.$t("dt.form.edit"))+" ")]):e._e(),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){return e.handleRouteGoBack("admin.FinanceList")}}},[e._v(e._s(e.$t("dt.base.back")))])],1)],1)],1)],1)],1),a("Modal",{attrs:{title:e.$t("dt.base.review",{label:e.$t("dt.form.picture")}),scrollable:""},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[e.formTemp.previewUrl?a("img",{staticStyle:{"max-width":"100%",display:"block",margin:"auto"},attrs:{src:e._f("formatImage")(e.formTemp.previewUrl)}}):e._e()])],1)},l=[],o=(a("2c78"),a("5c4c"),a("d211")),s=a("b8f9"),n=a("4ec25"),d=a("f26a"),i=a("494e"),m={name:"FinanceModel",mixins:[n["a"]],data:function(){return{visible:!1,filter:{supply:{},customer:{},purchaseOrder:{},purchaseRevokeOrder:{},stockRevokeOrder:{},salesOrder:{},salesRevoke:{}},formTemp:{previewUrl:null,groupList:[],supplyList:[],customerList:[]},formData:{status:1,tye:null,orderId:null,userId:null,handleUserId:null,toUser:null,supplyId:null,customerId:null,categoryId:null,collectionId:null,partner:null,payChannel:null,payName:null,payNo:null,payTime:null,money:0},ruleInline:{name:[{required:!0,message:this.$t("dt.base.pleaseInput",{label:this.$t("dt.form.FinanceName")}),trigger:"blur"}],handleUserId:[{required:!0,message:this.$t("dt.base.pleaseSelect",{label:this.$t("dt.base.Handling")}),trigger:"blur"}],orderTye:[{required:!0,type:"number",message:this.$t("dt.base.pleaseSelect",{label:this.$t("dt.form.OrderType")}),trigger:"blur"}],money:[{required:!0,validator:this.$Validator("money",this.$t("dt.base.pleaseInput",{label:this.$t("dt.base.Money")})),trigger:"blur"}],toUser:[{required:!0,type:"number",message:this.$t("dt.base.pleaseSelect",{label:this.$t("dt.form.FinanceObject")}),trigger:"blur"}],payMode:[{required:!0,type:"number",message:this.$t("dt.base.pleaseSelect",{label:this.$t("dt.form.PayMode")}),trigger:"blur"}],payTime:[{required:!0,type:"date",message:this.$t("dt.base.pleaseSelect",{label:this.$t("dt.form.PayTime")}),trigger:"blur"}],tye:[{required:!0,type:"number",message:this.$t("dt.base.pleaseSelect",{label:this.$t("dt.form.FinanceType")}),trigger:"blur"}],weight:[{required:!0,type:"number",message:this.$t("dt.form.weightPlaceholder"),trigger:"blur"},{validator:this.$Validator("number",this.$t("dt.form.weightPlaceholder")),trigger:"blur"}]}}},computed:{},created:function(){this.handleGroupList(),this.handleSupplyList(),this.handleCustomerList(),s["a"].isEmpty(this.id)||this.handleDetail()},mounted:function(){window.aa=this},components:{UploadFile:d["a"],ListSelectModal:i["a"]},watch:{"formData.tye":function(e,t){e&&t&&e!==t&&this.handleSetValueEmptyGroup()}},methods:{handleDetail:function(){var e=this;this.$Http.Post({mutation:this.$Model.FinanceLogDetail,variables:{id:this.id},fields:["id","name","orderTye","tye","money","voucher","toUser","payMode","partner","payChannel","payName","payNo","payNumber","payTime","status","remark","weight","state","supplyId","customerId","categoryId","purchaseId","collectionId","revokeProductId","salesOrderId","dividendOrderUserId","handleUserId","userId"]},(function(){})).then((function(t){var a=t.data;a.state=1===a.state||!0===a.state,a.payTime&&(a.payTime=e.$options.filters.formatTime(a.payTime,"YYYY-MM-DD")),a.money=1*e.$options.filters.money(a.money),e.formData=Object(o["a"])(Object(o["a"])({},e.formData),a)}))},handleSupplyList:function(){var e=this;this.$isHasMenuAuth("admin.SupplyList")&&this.$Http.Post({mutation:this.$Model.Supplys,variables:{perPage:0},fields:[{data:["id","name"]}]}).then((function(t){var a=t.data;e.formTemp.supplyList=a.data}))},handleCustomerList:function(){var e=this;this.$isHasMenuAuth("admin.CustomerList")&&this.$Http.Post({mutation:this.$Model.Customers,variables:{perPage:0},fields:[{data:["id","name"]}]}).then((function(t){var a=t.data;e.formTemp.customerList=a.data}))},handleGroupList:function(){var e=this;this.$isHasMenuAuth("admin.GroupList")&&this.$Http.Post({mutation:this.$Model.Groups,variables:{perPage:0},fields:[{data:["id","name"]}]}).then((function(t){var a=t.data;e.formTemp.groupList=a.data}))},handleFinanceLogFilter:function(e){var t=this.$options.filters.money(e);return t},handleSupplyCallback:function(e){if(s["a"].isEmpty(e))this.handleSetValueEmptyGroup();else{var t=e[0].supply||{};this.formData.payChannel=t.bank,this.formData.payName=t.bankUser,this.formData.payNo=t.bankAccount,this.formData.supplyId=t.id,this.formData.supplyId&&(this.formData.toUser=1)}},handleCustomerCallback:function(e){if(s["a"].isEmpty(e))this.handleSetValueEmptyGroup();else{var t=e[0].customer||{};this.formData.payChannel=t.bank,this.formData.payName=t.bankUser,this.formData.payNo=t.bankAccount,this.formData.customerId=t.id,this.formData.customerId&&(this.formData.toUser=2)}},handleOrderTyeChange:function(e){7===e?this.ruleInline.categoryId=[{required:!0,message:this.$t("dt.base.pleaseSelect",{label:this.$t("dt.form.FinanceCategory")}),trigger:"blur"}]:delete this.ruleInline.categoryId},handleTyeChange:function(e){2===e?this.ruleInline.collectionId=[{required:!0,message:this.$t("dt.base.pleaseSelect",{label:this.$t("dt.form.Collection")}),trigger:"blur"}]:delete this.ruleInline.collectionId},handleFilterHandlingUserChange:function(e){var t={};s["a"].isEmpty(e)||(t={groups:{id:e}}),this.$refs.handlingUser.handleSlotWatch(t)},handleFilterUserChange:function(e){var t={};s["a"].isEmpty(e)||(t={groups:{id:e}}),this.$refs.user.handleSlotWatch(t)},handleSetValueEmptyGroup:function(){this.formData.payChannel=null,this.formData.payName=null,this.formData.payNo=null,this.formData.customerId=null,this.formData.supplyId=null,this.formData.userId=null,this.formData.collectionId=null,this.formData.partner=null},handlePurchaseOrderFilter:function(){var e=this.filter.purchaseOrder;this.$refs.purchaseOrder.handleSlotWatch(e)},handlePurchaseRevokeOrderFilter:function(){var e=this.filter.purchaseRevokeOrder;this.$refs.purchaseRevokeOrder.handleSlotWatch(e)},handleStockRevokeOrderFilter:function(){var e=this.filter.stockRevokeOrder;this.$refs.stockRevokeOrder.handleSlotWatch(e)},handleSalesOrderFilter:function(){var e=this.filter.salesOrder;this.$refs.salesOrder.handleSlotWatch(e)},handleSalesRevokeFilter:function(){var e=this.filter.salesRevoke;this.$refs.salesRevoke.handleSlotWatch(e)},handleToUserChange:function(e){this.formData.payChannel=null,this.formData.payName=null,this.formData.payNo=null,1===e?(delete this.ruleInline.customerId,delete this.ruleInline.userId,delete this.ruleInline.partner,this.formData.customerId=null,this.formData.userId=null,this.formData.partner=null,this.ruleInline.supplyId=[{required:!0,message:this.$t("dt.base.pleaseSelect",{label:this.$t("dt.form.Supply")}),trigger:"blur"}]):2===e?(delete this.ruleInline.supplyId,delete this.ruleInline.userId,delete this.ruleInline.partner,this.formData.supplyId=null,this.formData.userId=null,this.formData.partner=null,this.ruleInline.customerId=[{required:!0,message:this.$t("dt.base.pleaseSelect",{label:this.$t("dt.form.Customer")}),trigger:"blur"}]):3===e?(delete this.ruleInline.supplyId,delete this.ruleInline.customerId,delete this.ruleInline.partner,this.formData.supplyId=null,this.formData.customerId=null,this.formData.partner=null,this.ruleInline.userId=[{required:!0,message:this.$t("dt.base.pleaseSelect",{label:this.$t("dt.form.staff")}),trigger:"blur"}]):(delete this.ruleInline.supplyId,delete this.ruleInline.customerId,delete this.ruleInline.userId,this.formData.supplyId=null,this.formData.customerId=null,this.formData.userId=null,this.ruleInline.partner=[{required:!0,message:this.$t("dt.base.pleaseSelect",{label:this.$t("dt.form.Partners")}),trigger:"blur"}])},handlePayModeChange:function(e){1===e?(this.ruleInline.payChannel=[{required:!0,message:this.$t("dt.base.pleaseSelect",{label:this.$t("dt.form.PayChannel")}),trigger:"blur"}],this.ruleInline.payName=[{required:!0,message:this.$t("dt.base.pleaseSelect",{label:this.$t("dt.form.Username")}),trigger:"blur"}],this.ruleInline.payNo=[{required:!0,message:this.$t("dt.base.pleaseSelect",{label:this.$t("dt.form.Account")}),trigger:"blur"}]):(delete this.ruleInline.payChannel,delete this.ruleInline.payName,delete this.ruleInline.payNo)},handleListModalCodeDataFunc:function(e){if(s["a"].isEmpty(e)||2===this.formData.tye)return this.formData.payChannel=null,this.formData.payName=null,void(this.formData.payNo=null);this.formData.payChannel=e[0].bank,this.formData.payName=e[0].bankUser,this.formData.payNo=e[0].bankAccount},handleCollectionCallback:function(e){if(s["a"].isEmpty(e))return this.formData.payChannel=null,this.formData.payName=null,void(this.formData.payNo=null);this.formData.payChannel=e[0].name,this.formData.payName=e[0].username,this.formData.payNo=e[0].account},handleFilterSupplyCodeChange:function(){this.filter.supply.code_like||delete this.filter.supply.code_like,this.$refs.supply.handleSlotWatch()},handleFilterCustomerCodeChange:function(){this.filter.customer.code_like||delete this.filter.customer.code_like,this.$refs.customer.handleSlotWatch()},handleView:function(e){s["a"].isEmpty(e)||(this.formTemp.previewUrl=e,this.visible=!0)},handleSumbitCheck:function(){var e=Object(o["a"])({},this.formData);2===this.formData.payMode&&(this.formData.payChannel=null,this.formData.payName=null,this.formData.payNo=null,this.formData.payNo=null),e.payTime&&(e.payTime=this.$options.filters.formTimestamp(e.payTime)),e.money&&(e.money=1*this.$options.filters.formatMoney(100*e.money)),this.handleSumbit(e)}}},c=m,u=(a("30ec"),a("c701")),p=Object(u["a"])(c,r,l,!1,null,"af064bda",null);t["a"]=p.exports}}]);