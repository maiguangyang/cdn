(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-539cefe7"],{"579b":function(e,t,a){},6963:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"branch-type-add-page"},[a("div",{staticClass:"wrapper"},[a("div",{staticClass:"controller"},[a("form-model",{attrs:{formModel:e.formModel,tabName:[e.$t("dt.form.BranchTypeAdd")],btnTitle:e.$t("dt.base.save")},on:{formDataSubmit:e.handleFormDataSubmit}})],1)])])},s=[],n=a("d211"),i=a("b8f9"),o=a("8b9a"),l={name:"BranchTypeAdd",data:function(){return{formModel:{hide:[],readonly:[]}}},created:function(){},mounted:function(){},components:{FormModel:o["a"]},watch:{},methods:{handleFormDataSubmit:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(i["a"].isObject(t)&&i["a"].isObject(t.data)&&!i["a"].isEmpty(t.data)){var a=Object(n["a"])({},t.data),r={data:Object(n["a"])({},a)};this.$Http.Post({mutation:this.$Model.BranchTypeAdd,variables:r}).then((function(){e.$Message.success(e.$t("dt.toast.saveOk")),e.handleRouteGoBack("admin.BranchTypeList")}))}else this.$Message.error(this.$t("dt.base.invalidData"))}}},d=l,m=(a("9d85"),a("c701")),h=Object(m["a"])(d,r,s,!1,null,"2ffa8e11",null);t["default"]=h.exports},"8b9a":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-content-layer"},[a("Tabs",{staticClass:"tabs",attrs:{type:"card"}},[a("TabPane",{attrs:{label:e.tabName[0]}},[a("Row",{staticClass:"input-group",attrs:{type:"flex",align:"bottom",gutter:10}},[a("Col",{staticClass:"input-item",attrs:{xs:24,sm:16,md:16,lg:12,xl:8,xxl:6}},[a("Form",{ref:"form",staticClass:"form-page",attrs:{"label-position":"right","label-width":100,model:e.formData,rules:e.ruleInline}},[a("FormItem",{directives:[{name:"show",rawName:"v-show",value:!e.$FormCheck("name",e.formModel.hide),expression:"!$FormCheck('name', formModel.hide)"}],attrs:{label:e.$t("dt.form.BranchType"),prop:"name"}},[a("Input",{attrs:{readonly:e.$FormCheck("name",e.formModel.readonly),clearable:!e.$FormCheck("name",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseInput",{label:e.$t("dt.form.BranchType")})},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:!e.$FormCheck("userId",e.formModel.hide),expression:"!$FormCheck('userId', formModel.hide)"}],attrs:{label:""+e.$t("dt.form.bePerson"),prop:"userId"}},[a("Select",{attrs:{filterable:"",disabled:e.$FormCheck("userId",e.formModel.readonly),readonly:e.$FormCheck("userId",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseSelect",{label:e.$t("dt.form.bePerson")})},on:{"on-query-change":e.handleUserList},model:{value:e.formData.userId,callback:function(t){e.$set(e.formData,"userId",t)},expression:"formData.userId"}},e._l(e.formTemp.users,(function(t,r){return a("Option",{key:r,attrs:{value:t.id,label:t.username}},[e._v(" "+e._s(t.username)+" ")])})),1),!e.isReadonly&&e.$isHasMenuAuth("admin.UserAdd")?a("span",{staticClass:"no-flex",on:{click:function(t){e.handleCheckHabitType({name:"admin.UserAdd",query:{dt:e.$SetDtLink(e.$route,e.$store.state)}})}}},[e._v(" "+e._s(e.$t("dt.form.add"))+" ")]):e._e()],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:!e.$FormCheck("weight",e.formModel.hide),expression:"!$FormCheck('weight', formModel.hide)"}],attrs:{label:e.$t("dt.form.weight"),prop:"weight"}},[a("Input",{attrs:{readonly:e.$FormCheck("weight",e.formModel.readonly),clearable:!e.$FormCheck("weight",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseInput",{label:e.$t("dt.form.weight")})},model:{value:e.formData.weight,callback:function(t){e.$set(e.formData,"weight",e._n(t))},expression:"formData.weight"}})],1),a("FormItem",{attrs:{label:e.$t("dt.form.status")}},[a("i-switch",{attrs:{disabled:e.$FormCheck("state",e.formModel.readonly),size:"large"},model:{value:e.formData.state,callback:function(t){e.$set(e.formData,"state",t)},expression:"formData.state"}},e._l(e.$options.filters.state([]),(function(t,r){return a("span",{key:r,attrs:{slot:1===1*t.value?"open":"close"},slot:1===1*t.value?"open":"close"},[e._v(e._s(t.label))])})),0)],1),a("FormItem",[!e.isReadonly&&e.$isHasMenuAuth("admin.BranchTypeAdd")||!e.isReadonly&&e.$isHasMenuAuth("admin.BranchTypeEdit")?a("Button",{attrs:{type:"primary",loading:e.loading},on:{click:e.handleSumbitCheck}},[e._v(" "+e._s(e.btnTitle)+" ")]):e.$isHasMenuAuth("admin.BranchTypeEdit")?a("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary"},on:{click:function(t){return e.handleCheckHabitType({name:"admin.BranchTypeEdit",params:{id:e.id}})}}},[e._v(" "+e._s(e.$t("dt.form.edit"))+" ")]):e._e(),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){return e.handleRouteGoBack("admin.BranchTypeList")}}},[e._v(e._s(e.$t("dt.base.back")))])],1)],1)],1)],1)],1),a("TabPane",{attrs:{label:e.$t("dt.base.authSetting")}},[a("Authority",{attrs:{readonly:e.isReadonly,propData:e.formData},on:{formDataSubmit:e.handleFormDataSubmit}})],1)],1)],1)},s=[],n=a("d211"),i=a("b8f9"),o=a("4ec25"),l=a("b602"),d={name:"GroupModel",mixins:[o["a"]],data:function(){return{httpTimer:null,formTemp:{auth:{},users:[],branchList:[]},ruleInline:{name:[{required:!0,message:this.$t("dt.base.pleaseInput",{label:this.$t("dt.form.BranchTypeName")}),trigger:"blur"}],userId:[{required:!0,message:this.$t("dt.base.pleaseSelect",{label:this.$t("dt.form.bePerson")}),trigger:"blur"}],weight:[{required:!0,type:"number",message:this.$t("dt.form.weightPlaceholder"),trigger:"blur"},{validator:this.$Validator("number",this.$t("dt.form.weightPlaceholder")),trigger:"blur"}]}}},created:function(){this.$isHasMenuAuth("admin.UserList")&&this.handleUserList(null),this.$isHasMenuAuth("admin.BranchList")&&this.handleBranchList(),i["a"].isEmpty(this.id)||this.handleDetail()},mounted:function(){},components:{Authority:l["a"]},watch:{},methods:{handleDetail:function(){var e=this;this.$Http.Post({mutation:this.$Model.BranchTypeDetail,variables:{id:this.id},fields:["id","name","userId","menu","feature","weight","state"]},(function(){e.$router.push({name:"admin.BranchTypeList"})})).then((function(t){var a=t.data;a.state=1===a.state||!0===a.state,e.formData=Object(n["a"])(Object(n["a"])({},e.formData),a)}))},handleUserList:function(e){var t=this;if(this.$isHasMenuAuth("admin.UserList")){if(""===e)return;this.httpTimer&&clearTimeout(this.httpTimer),this.httpTimer=setTimeout((function(){t.$Http.Post({mutation:t.$Model.Users,variables:{perPage:0,filter:{username_like:e}},fields:[{data:["id","username","phone"]}]}).then((function(e){var a=e.data;t.formTemp.users=a.data}))}),200)}},handleBranchList:function(){var e=this;this.$Http.Post({mutation:this.$Model.Branchs,variables:{perPage:0},fields:[{data:["id","name"]}]}).then((function(t){var a=t.data;e.formTemp.branchList=a.data}))},handleFormDataSubmit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.formTemp.auth=e},handleSumbitCheck:function(){var e=Object(n["a"])(Object(n["a"])({},this.formData),this.formTemp.auth);this.handleSumbit(e)}}},m=d,h=a("c701"),c=Object(h["a"])(m,r,s,!1,null,"ea102134",null);t["a"]=c.exports},"9d85":function(e,t,a){"use strict";a("579b")}}]);