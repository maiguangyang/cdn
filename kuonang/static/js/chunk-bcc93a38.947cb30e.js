(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bcc93a38"],{"366d":function(t,e,a){"use strict";a("9ab1")},"95b1":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"SalesOrder-list-page"},[a("div",{staticClass:"wrapper"},[a("div",{staticClass:"controller"},[a("Row",{staticClass:"filter-group",class:{active:t.rowToggle},attrs:{type:"flex",gutter:20}},[a("Col",{staticClass:"filter-item",attrs:{xs:24,sm:12,md:8,lg:8,xl:6,xxl:6}},[a("Row",{attrs:{type:"flex",justify:"center",align:"middle"}},[a("Col",{staticClass:"child-title",attrs:{span:"8"}},[a("span",[t._v(t._s(t.$t("dt.form.OrderNo"))+"：")])]),a("Col",{attrs:{span:"16"}},[a("Input",{attrs:{search:"",placeholder:t.$t("dt.base.pleaseInput",{label:t.$t("dt.form.OrderNo")})},on:{"on-enter":t.handleFilterChange,"on-search":t.handleFilterChange},model:{value:t.filters.orderNo_like,callback:function(e){t.$set(t.filters,"orderNo_like",e)},expression:"filters.orderNo_like"}})],1)],1)],1),t.$isHasMenuAuth("admin.CustomerList")?a("Col",{staticClass:"filter-item",attrs:{xs:24,sm:12,md:8,lg:8,xl:6,xxl:6}},[a("Row",{attrs:{type:"flex",justify:"center",align:"middle"}},[a("Col",{staticClass:"child-title",attrs:{span:"8"}},[a("span",[t._v(t._s(t.$t("dt.form.Customer"))+"：")])]),a("Col",{attrs:{span:"16"}},[a("ListSelectModal",{ref:"customer",attrs:{title:t.$t("dt.base.pleaseSelect",{label:t.$t("dt.form.Customer")}),type:2,route:"CustomerAdd",api:t.$Model.Customers,column:[{name:t.$t("dt.form.CustomerName")},{code:t.$t("dt.form.CustomerCode")},{telPhone:t.$t("dt.base.telPhone")},{remark:t.$t("dt.base.remark")}],attrs:{label:"name",value:"id"},filter:t.filter.customer,callback:t.handleFilterChange,placeholder:t.$t("dt.base.pleaseSelect",{label:t.$t("dt.form.Customer")})},model:{value:t.filters.customerId,callback:function(e){t.$set(t.filters,"customerId",e)},expression:"filters.customerId"}},[a("div",{staticClass:"filter-item",attrs:{slot:"filter"},slot:"filter"},[a("span",[t._v(t._s(t.$t("dt.form.CustomerCode"))+"：")]),a("Input",{attrs:{search:"","enter-button":"",placeholder:t.$t("dt.base.pleaseInput",{label:t.$t("dt.form.CustomerCode")})},on:{"on-enter":t.handleFilterCustomerCodeChange,"on-search":t.handleFilterCustomerCodeChange},model:{value:t.filter.customer.code_like,callback:function(e){t.$set(t.filter.customer,"code_like",e)},expression:"filter.customer.code_like"}})],1)])],1)],1)],1):t._e(),t.$isHasMenuAuth("admin.LogisticList")?a("Col",{staticClass:"filter-item",attrs:{xs:24,sm:12,md:8,lg:8,xl:6,xxl:6}},[a("Row",{attrs:{type:"flex",justify:"center",align:"middle"}},[a("Col",{staticClass:"child-title",attrs:{span:"8"}},[a("span",[t._v(t._s(t.$t("dt.form.Logistic"))+"：")])]),a("Col",{attrs:{span:"16"}},[a("ListSelectModal",{attrs:{title:t.$t("dt.base.pleaseSelect",{label:t.$t("dt.form.Logistic")}),type:2,route:"LogisticAdd",api:t.$Model.Logistics,column:[{name:t.$t("dt.form.LogisticName")},{phone:t.$t("dt.base.telPhone")},{remark:t.$t("dt.base.remark")}],attrs:{label:"name",value:"id"},callback:t.handleFilterChange,placeholder:t.$t("dt.base.pleaseSelect",{label:t.$t("dt.form.Logistic")})},model:{value:t.filters.logisticId,callback:function(e){t.$set(t.filters,"logisticId",e)},expression:"filters.logisticId"}})],1)],1)],1):t._e(),a("Col",{staticClass:"filter-item",attrs:{xs:24,sm:12,md:8,lg:8,xl:6,xxl:6}},[a("Row",{attrs:{type:"flex",justify:"center",align:"middle"}},[a("Col",{staticClass:"child-title",attrs:{span:"8"}},[a("span",[t._v(t._s(t.$t("dt.form.WaybillNo"))+"：")])]),a("Col",{attrs:{span:"16"}},[a("Input",{attrs:{search:"",placeholder:t.$t("dt.base.pleaseInput",{label:t.$t("dt.form.WaybillNo")})},on:{"on-enter":t.handleFilterChange,"on-search":t.handleFilterChange},model:{value:t.filters.waybillNo_like,callback:function(e){t.$set(t.filters,"waybillNo_like",e)},expression:"filters.waybillNo_like"}})],1)],1)],1),a("Col",{staticClass:"filter-item",attrs:{xs:24,sm:12,md:8,lg:8,xl:6,xxl:6}},[a("Row",{attrs:{type:"flex",justify:"center",align:"middle"}},[a("Col",{staticClass:"child-title",attrs:{span:"8"}},[a("span",[t._v(t._s(t.$t("dt.form.OrderStatus"))+"：")])]),a("Col",{attrs:{span:"16"}},[a("Select",{attrs:{clearable:"",placeholder:t.$t("dt.base.pleaseSelect",{label:t.$t("dt.form.OrderStatus")})},on:{"on-change":t.handleFilterChange},model:{value:t.filters.status,callback:function(e){t.$set(t.filters,"status",e)},expression:"filters.status"}},t._l(t.$options.filters.orderStatus([]),(function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(" "+t._s(e.label)+" ")])})),1)],1)],1)],1),a("Col",{staticClass:"filter-item",attrs:{xs:24,sm:12,md:8,lg:8,xl:6,xxl:6}},[a("Row",{attrs:{type:"flex",justify:"center",align:"middle"}},[a("Col",{staticClass:"child-title",attrs:{span:"8"}},[a("span",[t._v(t._s(t.$t("dt.form.OrderType"))+"：")])]),a("Col",{attrs:{span:"16"}},[a("Select",{attrs:{clearable:"",placeholder:t.$t("dt.base.pleaseSelect",{label:t.$t("dt.form.DeliverType")})},on:{"on-change":t.handleFilterChange},model:{value:t.filters.tye,callback:function(e){t.$set(t.filters,"tye",e)},expression:"filters.tye"}},t._l(t.$options.filters.salesOrderType([]),(function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(" "+t._s(e.label)+" ")])})),1)],1)],1)],1),a("Col",{staticClass:"filter-item",attrs:{xs:24,sm:12,md:8,lg:8,xl:6,xxl:6}},[a("Row",{attrs:{type:"flex",justify:"center",align:"middle"}},[a("Col",{staticClass:"child-title",attrs:{span:"8"}},[a("span",[t._v(t._s(t.$t("dt.form.IsPay"))+"：")])]),a("Col",{attrs:{span:"16"}},[a("Select",{attrs:{clearable:"",placeholder:t.$t("dt.base.pleaseSelect",{label:t.$t("dt.form.IsPay")})},on:{"on-change":t.handleFilterChange},model:{value:t.filters.isPay,callback:function(e){t.$set(t.filters,"isPay",e)},expression:"filters.isPay"}},t._l(t.$options.filters.isPay([]),(function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(" "+t._s(e.label)+" ")])})),1)],1)],1)],1),a("Col",{staticClass:"filter-item",attrs:{xs:24,sm:12,md:8,lg:8,xl:6,xxl:6}},[a("Row",{attrs:{type:"flex",justify:"center",align:"middle"}},[a("Col",{staticClass:"child-title",attrs:{span:"8"}},[a("span",[t._v(t._s(t.$t("dt.form.OrderTime"))+"：")])]),a("Col",{attrs:{span:"16"}},[a("date-sort",{attrs:{attr:["createdAt_gte","createdAt_lte"],placeholder:t.$t("dt.base.pleaseSelect",{label:t.$t("dt.form.StartAndEndTime")})},on:{DatePickerChange:t.handleFilterChange}})],1)],1)],1),a("button",{staticClass:"row-toggle",attrs:{type:"button"},on:{click:function(e){return t.$store.commit("spinShow/rowToggle")}}},[t.rowToggle?a("Icon",{attrs:{type:"ios-arrow-up",size:"25",color:"#999"}}):a("Icon",{attrs:{type:"ios-arrow-down",size:"25",color:"#999"}})],1)],1),a("div",{staticClass:"btn-group"},[a("div",{staticClass:"left"},[t.$isHasMenuAuth("admin.SalesOrderAdd")?a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.handleCheckHabitType({name:"admin.SalesOrderAdd"})}}},[a("Icon",{attrs:{type:"md-add"}}),t._v(t._s(t.$t("dt.form.SalesOrderAdd"))+" ")],1):t._e(),t.$isHasMenuAuth("admin.SalesOrderEdit")?a("Button",{attrs:{type:"success"},on:{click:function(e){return t.handleAsyncSavaAll(t.tableMultipleSelect)}}},[a("Icon",{attrs:{type:"md-create"}}),t._v(t._s(t.$t("dt.form.saveAll"))+" ")],1):t._e(),a("Print",{attrs:{data:t.tableMultipleSelect,route:"admin.PrintSalesOrder"}})],1),a("div",{staticClass:"right"},[t.$isHasMenuAuth("admin.SalesOrderExport")?a("Button",{attrs:{type:"warning"},on:{click:t.handleAsyncExport}},[a("Icon",{attrs:{type:"md-cloud-download"}}),t._v(t._s(t.$t("dt.form.export"))+"Excel ")],1):t._e()],1)]),a("div",{staticClass:"table"},[a("Table",{ref:"selection",attrs:{border:"",loading:t.loading&&t.isMethodList,columns:t.columns,data:t.formTemp.data},on:{"on-select-cancel":t.handleTableOnSelectCancel,"on-selection-change":t.handleTableSelectionChange}})],1),a("div",{staticClass:"page-list"},[a("Page",{attrs:{"show-total":"","show-sizer":"","show-elevator":"",total:t.formTemp.total,current:t.formTemp.current_page,"page-size-opts":t.formTemp.pageSizeOpts,"page-size":t.formTemp.per_page},on:{"on-page-size-change":t.handleOnPageSizeChange,"on-change":t.handleChangePage}})],1)],1)]),a("Drawer",{attrs:{title:t.$t("dt.form.RevokeProductDetail"),width:"480",closable:!1,scrollable:!0,draggable:!0},model:{value:t.formTemp.drawer,callback:function(e){t.$set(t.formTemp,"drawer",e)},expression:"formTemp.drawer"}},[a("Row",[a("Col",{attrs:{span:"12"}},[t._v(t._s(t.$t("dt.form.ParentWarehouse"))+"：123")])],1)],1),a("Modal",{attrs:{"class-name":"settlement-layer",transfer:!0,"footer-hide":!0,"mask-closable":!1},model:{value:t.settlement,callback:function(e){t.settlement=e},expression:"settlement"}},[a("table",[a("thead",[a("tr",[a("th",[t._v(t._s(t.$t("dt.form.OrderNo")))]),a("th",[t._v(t._s(t.$t("dt.form.SalesOrderMoney")))]),a("th",[t._v(t._s(t.$t("dt.form.PaidMoney")))]),a("th",[a("span",[t._v(t._s(t.$t("dt.form.SurplusMoney")))]),a("span",{staticStyle:{color:"#2d8cf0","margin-left":"5px",cursor:"pointer"},on:{click:function(e){return t.handleSettleAll()}}},[t._v(" "+t._s(t.$t("dt.base.All"))+" ")])])])]),a("tbody",[a("tr",[a("td",[t._v(t._s(t.formTemp.currentSettlement.orderNo))]),a("td",[t._v("¥"+t._s(t._f("money")(t.formTemp.currentSettlement.money)))]),a("td",[t._v("¥"+t._s(t._f("money")(t.formTemp.currentSettlement.payMoney)))]),a("td",[t._v("¥"+t._s(t._f("money")(t.formTemp.currentSettlement.surplusMoney)))])]),a("tr",[a("td",{attrs:{align:"right",colspan:"4"}},[a("div",{staticClass:"content"},[a("RadioGroup",{model:{value:t.formTemp.currentSettlement.settle,callback:function(e){t.$set(t.formTemp.currentSettlement,"settle",e)},expression:"formTemp.currentSettlement.settle"}},t._l(t.$options.filters.settleType([]),(function(e){return a("Radio",{key:e.value,attrs:{disabled:1===e.value&&100*t.settlementMoney>=t.formTemp.currentSettlement.surplusMoney,label:e.value}},[t._v(" "+t._s(e.label)+" ")])})),1),a("div",{staticClass:"body"},[a("span",[t._v(t._s(t.$t("dt.base.Money"))+"：")]),a("Input",{attrs:{size:"small",placeholder:t.$t("dt.base.pleaseInput",{label:t.$t("dt.base.Money")})},model:{value:t.settlementMoney,callback:function(e){t.settlementMoney=e},expression:"settlementMoney"}}),a("Button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.handleSettlement()}}},[t._v(t._s(t.$t("dt.base.confirm")))])],1)],1)])])])])])],1)},r=[],n=(a("2d38"),a("2c78"),a("9953"),a("69bf"),a("02bf"),a("a39b"),a("5c4c"),a("d211")),l=a("b8f9"),i=a("efa4"),o=a("494e"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Button",{on:{click:function(e){return t.handleGoToPrint()}}},[t._v(" "+t._s(t.label||t.title)+" ")])},c=[],m={name:"Print",data:function(){return{title:this.$t("dt.base.PrintOrderDetail"),formTemp:{data:[]}}},props:{label:{type:String,default:""},data:{type:Array,default:function(){return[]}},route:{type:String,default:""}},computed:{},created:function(){},mounted:function(){},watch:{},methods:{handleGoToPrint:function(){if(this.data.length<=0)this.$Notice.warning({title:this.$t("dt.toast.tips"),desc:"".concat(this.$t("dt.base.pleaseSelect",{label:this.$t("dt.base.data")}))});else if(this.route&&this.data.length>0){var t=this.data.map((function(t){return t.id}));if(t.length>0){var e=this.$options.filters.printIds(this.route);this.$Local.set(e,t);var a={name:this.route},s=this.$router.resolve(a);window.open(s.href,"_blank")}}}}},u=m,p=a("c701"),f=Object(p["a"])(u,d,c,!1,null,"3ebdf716",null),h=f.exports,y={name:"SalesOrderList",mixins:[i["a"]],data:function(){return{filter:{customer:{}},settlement:!1,settlementMoney:0,formTemp:{drawer:!1,currentItem:[],currentSettlement:{settle:1},warehouseList:[],supplyList:[],SalesOrderTypeList:[]}}},components:{ListSelectModal:o["a"],Print:h},computed:{columns:function(){var t=this;return[{type:"selection",width:60,align:"center",fixed:"left"},{title:this.$t("dt.form.index"),type:"index",width:80,align:"center"},{title:this.$t("dt.form.OrderNo"),key:"orderNo",width:160,align:"center",render:function(e,a){return e(t.$isHasMenuAuth("admin.SalesOrderDetail")?"router-link":"span",{props:{to:{name:"admin.SalesOrderDetail",params:{id:a.row.id}}}},a.row.orderNo)}},{title:this.$t("dt.form.Customer"),minWidth:200,align:"center",render:function(t,e){var a=e.row.customer||{};return t("span",a.name)}},{title:this.$t("dt.form.SalesOrderProject"),width:100,align:"center",render:function(e,a){var s=a.row.detailIds||[];return e("span","".concat(s.length," ").concat(t.$t("dt.base.term")))}},{title:this.$t("dt.form.PlaceOrderNumber"),key:"number",width:100,align:"center",render:function(e,a){var s=a.row.number||0;return e("span","".concat(s," ").concat(t.$t("dt.base.piece")))}},{title:this.$t("dt.form.SalesOrderMoney"),key:"money",width:120,align:"center",render:function(e,a){var s=a.row.money||0;return e("span","".concat(t.$options.filters.money(s)," ").concat(t.$t("dt.base.unit")))}},{title:this.$t("dt.form.IsPay"),key:"isPay",width:100,align:"center",render:function(e,a){var s=t.$options.filters.orderStatusColor(a.row.isPay);return e("span",{style:{color:s}},t.$options.filters.isPay(a.row.isPay))}},{title:this.$t("dt.form.PayMoney"),width:120,align:"center",render:function(e,a){var s=a.row.financeLog||[],r=s.filter((function(t){return 2===t.status})).map((function(t){return t.money})).reduce((function(t,e){return t+e}),0);return e("span","".concat(t.$options.filters.money(r)," ").concat(t.$t("dt.base.unit")))}},{title:this.$t("dt.form.DividendProgram"),width:150,align:"center",render:function(e,a){var s=a.row.dividend||{};return e(t.$isHasMenuAuth("admin.ProgramDetail")&&!l["a"].isEmpty(s)?"router-link":"span",{props:{to:{name:"admin.ProgramDetail",params:{id:s.id}}}},s.name||t.$t("dt.base.Nothing"))}},{title:this.$t("dt.form.OrderType"),key:"tye",width:120,align:"center",render:function(e,a){return e("span",t.$options.filters.salesOrderType(a.row.tye))}},{title:this.$t("dt.form.DeliverType"),key:"deliverType",width:120,align:"center",render:function(e,a){return e("span",t.$options.filters.deliverType(a.row.deliverType))}},{title:this.$t("dt.form.Logistic"),minWidth:200,align:"center",render:function(t,e){var a=e.row.logistic||{};return t("span",a.name)}},{title:this.$t("dt.form.WaybillNo"),key:"waybillNo",width:120,align:"center"},{title:this.$t("dt.base.remark"),key:"remark",minWidth:200,maxWidth:300,tooltip:!0,align:"center"},{title:this.$t("dt.form.createdAt"),key:"createdAt",width:170,align:"center",sortable:!0,render:function(e,a){return e("span",t.$options.filters.formatTime(a.row.createdAt))}},{title:this.$t("dt.form.OrderStatus"),key:"status",width:120,align:"center",fixed:"right",render:function(e,a){var s=a.row.status,r=t.$options.filters.orderStatusColor(s);return t.$isHasMenuAuth("admin.SalesOrderEdit")&&-1!==t.selectTable.indexOf(a.row.id)&&4!==s?e("div",[e("e-select",{props:{current:s,name:"label",value:"value",dataList:t.$options.filters.orderStatus([])},on:{handleSelectChange:function(e){return t.handleSelectChange(e,a.index,a.column.key)}}})]):2===s?e("Tooltip",{props:{content:t.$t("dt.base.click",{label:t.$t("dt.form.DeliverGoods")}),placement:"top",transfer:!0}},[e("span",{style:{cursor:"pointer",color:r},on:{click:function(){t.handleCheckHabitType({name:"admin.SalesOrderEdit",params:{id:a.row.id}})}}},t.$options.filters.orderStatus(s))]):e(6===s&&t.$isHasMenuAuth("admin.RevokeProductList")?"router-link":"span",{props:{to:{name:"admin.RevokeProductList",query:{filter:JSON.stringify({relationOrder:a.row.orderNo})}}},style:{color:r}},t.$options.filters.orderStatus(s))}},{title:this.$t("dt.form.action"),key:"action",width:120,align:"center",fixed:"right",render:function(e,a){if(t.$isHasMenuAuth("admin.SalesOrderEdit")&&-1!==t.selectTable.indexOf(a.row.id)&&4!==a.row.status)return e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.handleAsyncSavaAll(a.row)}}},t.$t("dt.form.save")),e("Button",{props:{type:"warning",size:"small"},on:{click:function(){4!==a.row.status?t.handleTableRowCancelChecked(a.row):t.$Notice.warning({title:t.$t("dt.toast.tips"),desc:t.$t("dt.toast.OrderIsFinishNotEdit")})}}},t.$t("dt.form.cancel"))]);var s=[];return t.$isHasMenuAuth("admin.SalesOrderDetail")&&-1!==[4,5,6].indexOf(a.row.status)&&s.push(e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.handleCheckHabitType({name:"admin.SalesOrderDetail",params:{id:a.row.id}})}}},t.$t("dt.form.detail"))),t.$isHasMenuAuth("admin.SalesOrderEdit")&&-1===[4,5,6].indexOf(a.row.status)&&s.push(e("Button",{props:{type:"warning",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.handleCheckHabitType({name:"admin.SalesOrderEdit",params:{id:a.row.id}})}}},t.$t("dt.form.edit"))),t.$isHasMenuAuth("admin.SalesOrderEdit")&&-1===[4,5,6].indexOf(a.row.status)&&s.push(e("Button",{props:{type:"success",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.$Modal.confirm({title:t.$t("dt.toast.tips"),content:"".concat(t.$t("dt.base.whether")).concat(t.$t("dt.form.Complete")).concat(t.$t("dt.form.SalesOrder"),"?"),loading:!0,closable:!0,onOk:function(){t.handlePutPurchase(a.row,4)}})}}},t.$t("dt.form.Complete"))),t.$isHasMenuAuth("admin.SalesOrderEdit")&&2===a.row.status&&s.push(e("Button",{props:{size:"small"},style:{marginRight:"5px"},on:{click:function(){t.$Modal.confirm({title:t.$t("dt.toast.tips"),content:"".concat(t.$t("dt.base.whether")).concat(t.$t("dt.form.cancel"),"?"),loading:!0,closable:!0,onOk:function(){t.handlePutPurchase(a.row,5)}})}}},t.$t("dt.form.cancel"))),t.$isHasMenuAuth("admin.SalesOrderDelete")&&1===a.row.status&&s.push(e("Button",{props:{type:l["a"].isEmpty(a.row.deletedAt)?"error":"success",size:"small"},on:{click:function(){l["a"].isEmpty(a.row.deletedAt)?t.handleAsync(a):t.handleRecoveryAsync(a)}}},l["a"].isEmpty(a.row.deletedAt)?t.$t("dt.form.delete"):t.$t("dt.form.recovery"))),e("div",s)}}]}},created:function(){this.handleList()},mounted:function(){window.aa=this},watch:{},filters:{},methods:{handleList:function(){var t=this,e=this.handleInitFields(this.columns,["detailIds","customer.id","customer.name","logistic.id","logistic.name","dividend.id","dividend.name","financeLog.id","financeLog.money","financeLog.status"]),a=this.variables;this.$Http.Post({mutation:this.$Model.SalesOrders,variables:a,fields:e}).then((function(e){var a=e.data;t.formTemp=Object(n["a"])(Object(n["a"])({},t.formTemp),a),t.sortData(t.formTemp.data)}))},sortData:function(){var t=this;l["a"].each(this.formTemp.data,(function(e,a){e.surplusMoney=e.money-e.payMoney,e.index=(t.formTemp.current_page-1)*t.formTemp.per_page+a+1,e.loading=!1}))},handleSettleAll:function(){this.settlementMoney=this.$options.filters.money(this.formTemp.currentSettlement.surplusMoney),this.formTemp.currentSettlement.settle=2},handleSettlement:function(){var t=this,e=this.formTemp.currentSettlement,a=1*this.$options.filters.formatMoney(100*this.settlementMoney);if(this.$rules.money(a)){var s={id:e.id,isPay:2===e.settle?3:2,payMoney:e.payMoney+a};this.handleRowItemSave(s,(function(r){if(!l["a"].isEmpty(r)){var n=t.formTemp.data.findIndex((function(t){return t.id===e.id}));-1!==n&&(t.formTemp.data[n].isPay=s.isPay,t.formTemp.data[n].payMoney=s.payMoney,t.formTemp.data[n].surplusMoney-=a,t.formTemp.data[n].surplusMoney<0&&(t.formTemp.data[n].surplusMoney=0)),t.settlement=!1,t.$Message.success("".concat(t.$t("dt.form.action")).concat(t.$t("dt.status.success"))),t.$Modal.remove()}}))}else this.$Notice.warning({title:this.$t("dt.toast.tips"),desc:this.$t("dt.toast.PleaseEnterTheCorrectAmount")})},handlePutPurchase:function(t,e){var a=this,s=Object(n["a"])({},t);s.status=e||2,this.handleRowItemSave(s,(function(e){l["a"].isEmpty(e)||(t.status=s.status,a.$Modal.remove())}))},handleFilterCustomerCodeChange:function(){this.filter.customer.code_like||delete this.filter.customer.code_like,this.$refs.customer.handleSlotWatch()},handleRowItemSave:function(t,e){l["a"].isEmpty(t)||this.handleOnRecovery({api:this.$Model.SalesOrderEdit,item:t,type:2},e)},handleUpdateStatus:function(t,e){this.handleUpdateStatusFunc({api:this.$Model.SalesOrderEdit,item:t,value:e})},handleRecovery:function(t,e){l["a"].isEmpty(t)||this.handleOnRecovery({api:this.$Model.SalesOrdersRecovery,item:t},e)},handleDelete:function(t){l["a"].isEmpty(t.id)||l["a"].isEmpty(t.index)||this.handleOnDelete({api:this.$Model.SalesOrdersDelete,item:t})}}},$=y,g=(a("366d"),Object(p["a"])($,s,r,!1,null,"1daf616a",null));e["default"]=g.exports},"9ab1":function(t,e,a){}}]);