(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e6ec393a"],{"75f2":function(t,e,a){},"851b":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"System-list-page"},[a("div",{staticClass:"wrapper"},[a("div",{staticClass:"controller"},[a("Row",{staticClass:"filter-group",class:{active:t.rowToggle},attrs:{type:"flex",gutter:20}},[a("Col",{staticClass:"filter-item",attrs:{xs:24,sm:12,md:8,lg:8,xl:6,xxl:6}},[a("Row",{attrs:{type:"flex",justify:"center",align:"middle"}},[a("Col",{staticClass:"child-title",attrs:{span:"8"}},[a("span",[t._v(t._s(t.$t("dt.form.SystemName"))+"：")])]),a("Col",{attrs:{span:"16"}},[a("Input",{attrs:{search:"",placeholder:t.$t("dt.base.pleaseInput",{label:t.$t("dt.form.SystemName")})},on:{"on-enter":t.handleFilterChange,"on-search":t.handleFilterChange},model:{value:t.filters.name_like,callback:function(e){t.$set(t.filters,"name_like",e)},expression:"filters.name_like"}})],1)],1)],1),a("Col",{staticClass:"filter-item",attrs:{xs:24,sm:12,md:8,lg:8,xl:6,xxl:6}},[a("Row",{attrs:{type:"flex",justify:"center",align:"middle"}},[a("Col",{staticClass:"child-title",attrs:{span:"8"}},[a("span",[t._v(t._s(t.$t("dt.form.status"))+"：")])]),a("Col",{attrs:{span:"16"}},[a("Select",{attrs:{clearable:"",placeholder:t.$t("dt.base.pleaseSelect",{label:t.$t("dt.form.status")})},on:{"on-change":t.handleFilterChange},model:{value:t.filters.isRead,callback:function(e){t.$set(t.filters,"isRead",e)},expression:"filters.isRead"}},t._l(t.$options.filters.naveRead([]),(function(e,i){return a("Option",{key:i,attrs:{value:e.value}},[t._v(t._s(e.label))])})),1)],1)],1)],1),a("Col",{staticClass:"filter-item",attrs:{xs:24,sm:12,md:8,lg:8,xl:6,xxl:6}},[a("Row",{attrs:{type:"flex",justify:"center",align:"middle"}},[a("Col",{staticClass:"child-title",attrs:{span:"8"}},[a("span",[t._v(t._s(t.$t("dt.base.sort"))+"：")])]),a("Col",{attrs:{span:"16"}},[a("sorts",{on:{swtichSorts:t.handleFilterChange}})],1)],1)],1),a("button",{staticClass:"row-toggle",attrs:{type:"button"},on:{click:function(e){return t.$store.commit("spinShow/rowToggle")}}},[t.rowToggle?a("Icon",{attrs:{type:"ios-arrow-up",size:"25",color:"#999"}}):a("Icon",{attrs:{type:"ios-arrow-down",size:"25",color:"#999"}})],1)],1),a("div",{staticClass:"btn-group"},[a("div",{staticClass:"left"},[t.$isHasMenuAuth("admin.SystemAdd")?a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.handleCheckHabitType({name:"admin.SystemAdd"})}}},[a("Icon",{attrs:{type:"md-add"}}),t._v(t._s(t.$t("dt.form.SystemAdd"))+" ")],1):t._e(),a("Tag",{attrs:{color:"default"}},[t._v(t._s(t.$t("dt.toast.AdminReView")))])],1)]),a("div",{staticClass:"table"},[a("Table",{ref:"selection",attrs:{border:"",loading:t.loading&&t.isMethodList,columns:t.columns,data:t.formTemp.data},on:{"on-select-cancel":t.handleTableOnSelectCancel,"on-selection-change":t.handleTableSelectionChange}})],1),a("div",{staticClass:"page-list"},[a("Page",{attrs:{"show-total":"","show-sizer":"","show-elevator":"",total:t.formTemp.total,current:t.formTemp.current_page,"page-size-opts":t.formTemp.pageSizeOpts,"page-size":t.formTemp.per_page},on:{"on-page-size-change":t.handleOnPageSizeChange,"on-change":t.handleChangePage}})],1)],1)]),a("Drawer",{attrs:{"class-name":"drawer-layer",draggable:!0,width:"640",title:t.currentNotice.name},model:{value:t.review,callback:function(e){t.review=e},expression:"review"}},[a("div",{staticClass:"body"},[a("div",{staticClass:"content",domProps:{innerHTML:t._s(t.currentNotice.content)}}),a("Divider")],1),a("div",{staticClass:"footer"},[a("div",{staticClass:"form"},[t._v(t._s(t.$t("dt.base.Form"))+"："+t._s(t._f("noticeType")(t.currentNotice.tye)))]),a("div",{staticClass:"time"},[t._v(t._s(t._f("formatTime")(t.currentNotice.createdAt)))])])])],1)},s=[],n=(a("5c4c"),a("d211")),r=a("b8f9"),o=a("efa4"),l={name:"RoleList",mixins:[o["a"]],data:function(){return{review:!1,filters:{mid:this.$UserInfo.mid},currentNotice:{},formTemp:{locationList:[]}}},components:{},computed:{columns:function(){var t=this;return[{type:"selection",width:60,align:"center",fixed:"left"},{title:this.$t("dt.form.index"),type:"index",width:80,align:"center"},{title:this.$t("dt.form.SystemName"),minWidth:200,align:"center",render:function(e,a){var i=a.row.notice||{};return e("span",{style:{cursor:"pointer",color:i.color||"#2D8cF0"},on:{click:function(){t.handleReviewNotice(a.row)}}},i.name)}},{title:this.$t("dt.form.SystemType"),width:150,align:"center",render:function(e,a){var i=a.row.notice||{};return e("span",t.$options.filters.noticeType(i.tye))}},{title:this.$t("dt.form.status"),key:"isRead",width:150,align:"center",render:function(e,a){var i=2!==a.row.isRead?"#2d8cf0":"#19be6b";return e("span",{style:{color:i}},t.$options.filters.naveRead(a.row.isRead))}},{title:this.$t("dt.form.NoticeTime"),key:"createdAt",width:170,align:"center",sortable:!0,render:function(e,a){return e("span",t.$options.filters.formatTime(a.row.createdAt))}},{title:this.$t("dt.form.action"),key:"action",width:180,align:"center",fixed:"right",render:function(e,a){var i=a.row.notice||{},s=[];return t.$isHasMenuAuth("admin.SystemDetail")&&s.push(e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.handleReviewNotice(a.row)}}},t.$t("dt.base.review",{label:null}))),t.$isHasMenuAuth("admin.SystemEdit")&&s.push(e("Button",{props:{type:"warning",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.handleCheckHabitType({name:"admin.SystemEdit",params:{id:i.id}})}}},t.$t("dt.form.edit"))),e("div",s)}}]}},created:function(){this.handleList()},mounted:function(){},watch:{},filters:{},methods:{handleList:function(){var t=this,e=this.handleInitFields(this.columns,["notice.id","notice.name","notice.tye","notice.color","notice.content","notice.createdAt"]),a=this.variables;this.$Http.Post({mutation:this.$Model.MerchantNoticeUsers,variables:a,fields:e}).then((function(e){var a=e.data;t.formTemp=Object(n["a"])(Object(n["a"])({},t.formTemp),a),t.sortData(t.formTemp.data)}))},sortData:function(){var t=this;r["a"].each(this.formTemp.data,(function(e,a){e.index=(t.formTemp.current_page-1)*t.formTemp.per_page+a+1,e.loading=!1}))},handleReviewNotice:function(t){this.currentNotice=t.notice||{},this.review=!0}}},c=l,d=(a("dede"),a("c701")),m=Object(d["a"])(c,i,s,!1,null,"0a5378fa",null);e["default"]=m.exports},dede:function(t,e,a){"use strict";a("75f2")}}]);