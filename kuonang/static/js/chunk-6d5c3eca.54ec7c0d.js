(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d5c3eca"],{"2d84":function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-content-layer"},[a("Tabs",{staticClass:"tabs",attrs:{type:"card"}},[a("TabPane",{attrs:{label:e.tabName[0]}},[a("div",{staticClass:"tab-layer"},[a("div",{staticClass:"item",class:{active:1===e.active},on:{click:function(t){e.active=1}}},[e._v(e._s(e.$t("dt.form.Basic")))]),a("div",{staticClass:"item",class:{active:2===e.active},on:{click:function(t){e.active=2}}},[e._v(e._s(e.$t("dt.form.WelfareName")))]),a("div",{staticClass:"item",class:{active:3===e.active},on:{click:function(t){e.active=3}}},[e._v(e._s(e.$t("dt.base.jobInfo")))])]),a("Form",{ref:"form",staticClass:"form-page",attrs:{"label-position":"right","label-width":100,model:e.formData,rules:e.ruleInline}},[a("div",{directives:[{name:"show",rawName:"v-show",value:1===e.active,expression:"active === 1"}]},[a("Col",{directives:[{name:"show",rawName:"v-show",value:!e.$FormCheck("phone",e.formModel.hide),expression:"!$FormCheck('phone', formModel.hide)"}],staticClass:"input-item",attrs:{xs:24,sm:16,md:16,lg:12,xl:8,xxl:6}},[a("FormItem",{attrs:{label:e.$t("dt.form.Phone"),prop:"phone"}},[a("Input",{attrs:{readonly:e.$FormCheck("phone",e.formModel.readonly),clearable:!e.$FormCheck("phone",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseInput",{label:e.$t("dt.form.Phone")})},on:{"on-blur":function(t){return e.handleOnBlurPhone()}},model:{value:e.formData.phone,callback:function(t){e.$set(e.formData,"phone",t)},expression:"formData.phone"}})],1)],1),a("Col",{directives:[{name:"show",rawName:"v-show",value:!e.$FormCheck("username",e.formModel.hide),expression:"!$FormCheck('username', formModel.hide)"}],staticClass:"input-item",attrs:{xs:24,sm:16,md:16,lg:12,xl:8,xxl:6}},[a("FormItem",{attrs:{label:e.$t("dt.form.Username"),prop:"username"}},[a("Input",{attrs:{readonly:e.$FormCheck("username",e.formModel.readonly),clearable:!e.$FormCheck("username",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseInput",{label:e.$t("dt.form.Username")})},model:{value:e.formData.username,callback:function(t){e.$set(e.formData,"username",t)},expression:"formData.username"}})],1)],1),a("Col",{directives:[{name:"show",rawName:"v-show",value:!e.$FormCheck("password",e.formModel.hide)&&e.isNewUser,expression:"!$FormCheck('password', formModel.hide) && isNewUser"}],staticClass:"input-item",attrs:{xs:24,sm:16,md:16,lg:12,xl:8,xxl:6}},[a("FormItem",{attrs:{label:e.$t("dt.form.Password"),prop:"password"}},[a("Input",{attrs:{readonly:e.$FormCheck("password",e.formModel.readonly),clearable:!e.$FormCheck("password",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseInput",{label:e.$t("dt.form.Password")})},model:{value:e.formData.password,callback:function(t){e.$set(e.formData,"password",t)},expression:"formData.password"}})],1)],1),a("Col",{directives:[{name:"show",rawName:"v-show",value:!e.$FormCheck("sex",e.formModel.hide),expression:"!$FormCheck('sex', formModel.hide)"}],staticClass:"input-item",attrs:{xs:24,sm:16,md:16,lg:12,xl:8,xxl:6}},[a("FormItem",{attrs:{label:""+e.$t("dt.base.gender"),prop:"sex"}},[a("Select",{attrs:{disabled:e.$FormCheck("sex",e.formModel.readonly),readonly:e.$FormCheck("sex",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseSelect",{label:e.$t("dt.base.gender")})},model:{value:e.formData.sex,callback:function(t){e.$set(e.formData,"sex",t)},expression:"formData.sex"}},e._l(e.$options.filters.gender([]),(function(t,o){return a("Option",{key:o,attrs:{value:t.value,label:t.label}},[e._v(" "+e._s(t.label)+" ")])})),1)],1)],1),a("Col",{directives:[{name:"show",rawName:"v-show",value:!e.$FormCheck("groupId",e.formModel.hide),expression:"!$FormCheck('groupId', formModel.hide)"}],staticClass:"input-item",attrs:{xs:24,sm:16,md:16,lg:12,xl:8,xxl:6}},[a("FormItem",{staticClass:"form-layer"},[a("div",{staticClass:"label",attrs:{slot:"label"},slot:"label"},[a("span",[e._v(e._s(e.$t("dt.form.group"))+e._s(e.$t("dt.form.role")))]),a("Tooltip",{attrs:{content:e.$t("dt.toast.MultipleRoleTips"),placement:"top"}},[a("Icon",{attrs:{size:"16",color:"#2db7f5",type:"ios-help-circle-outline"}})],1)],1),e._l(e.formData.userRoleItem,(function(t,o){return a("div",{key:o,staticClass:"granch-layer"},[a("div",{staticClass:"granch-group-auth"},[a("div",{staticClass:"granch-group"},[a("div",{staticClass:"granch-select"},[a("Select",{attrs:{disabled:e.$FormCheck("bid",e.formModel.readonly),readonly:e.$FormCheck("bid",e.formModel.readonly),clearable:!e.$FormCheck("bid",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseSelect",{label:e.$t("dt.form.Branch")})},on:{"on-change":function(a){return e.handleBranchSelect(t,1)}},model:{value:t.bid,callback:function(a){e.$set(t,"bid",a)},expression:"item.bid"}},e._l(e.formTemp.branchList,(function(t,o){return a("Option",{key:o,attrs:{value:t.id,disabled:!0===t.checked}},[e._v(" "+e._s(t.name)+" ")])})),1)],1)]),a("div",{staticClass:"role-layer"},[a("div",{staticClass:"role-item"},[a("Select",{attrs:{disabled:e.$FormCheck("gid",e.formModel.readonly),readonly:e.$FormCheck("gid",e.formModel.readonly),clearable:!e.$FormCheck("gid",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseSelect",{label:e.$t("dt.form.group")})},on:{"on-change":function(a){return e.handleGroupSelect(t,1)}},model:{value:t.gid,callback:function(a){e.$set(t,"gid",a)},expression:"item.gid"}},e._l(t.groups,(function(t,o){return a("Option",{key:o,attrs:{value:t.id,disabled:!0===t.checked}},[e._v(" "+e._s(t.name)+" ")])})),1)],1),a("div",{staticClass:"role-item"},[a("Select",{attrs:{multiple:"",disabled:e.$FormCheck("rid",e.formModel.readonly),readonly:e.$FormCheck("rid",e.formModel.readonly),placeholder:e.$t("dt.base.distribution",{label:e.$t("dt.form.role")})},model:{value:t.rid,callback:function(a){e.$set(t,"rid",a)},expression:"item.rid"}},e._l(t.roles,(function(t,o){return a("Option",{key:o,attrs:{value:t.id}},[e._v(" "+e._s(t.name)+" ")])})),1)],1)])]),!e.isReadonly&&e.$isHasMenuAuth("admin.UserEdit")?a("div",{staticClass:"no-flex"},[1!==e.formData.userRoleItem.length?a("span",{staticClass:"delete",on:{click:function(t){return e.handleGroupRemove(o)}}},[e._v(e._s(e.$t("dt.form.delete")))]):e._e(),o===e.formData.userRoleItem.length-1?a("span",{staticClass:"add",on:{click:function(t){return e.handleGroupAdd()}}},[e._v(e._s(e.$t("dt.form.add")))]):e._e()]):e._e()])}))],2)],1),a("Col",{directives:[{name:"show",rawName:"v-show",value:!e.$FormCheck("officeName",e.formModel.hide),expression:"!$FormCheck('officeName', formModel.hide)"}],staticClass:"input-item",attrs:{xs:24,sm:16,md:16,lg:12,xl:8,xxl:6}},[a("FormItem",{attrs:{label:e.$t("dt.form.OfficeName"),prop:"officeName"}},[e.formTemp.officeList.length>0?a("RadioGroup",{attrs:{readonly:e.$FormCheck("officeName",e.formModel.readonly),disabled:e.$FormCheck("officeName",e.formModel.readonly)},on:{"on-change":e.handleRadioChange},model:{value:e.officeName,callback:function(t){e.officeName=t},expression:"officeName"}},e._l(e.formTemp.officeList,(function(e,t){return a("Radio",{key:t,attrs:{label:e.name}})})),1):a("span",[e._v(e._s(e.$t("dt.base.notFillIn")))])],1)],1),a("Col",{directives:[{name:"show",rawName:"v-show",value:!e.$FormCheck("officeTime",e.formModel.hide)&&e.officeName,expression:"!$FormCheck('officeTime', formModel.hide) && officeName"}],staticClass:"input-item",attrs:{xs:24,sm:16,md:16,lg:12,xl:8,xxl:6}},[a("FormItem",{attrs:{prop:"officeTime"}},[a("DatePicker",{attrs:{type:"date",readonly:e.$FormCheck("startTime",e.formModel.readonly),disabled:e.$FormCheck("startTime",e.formModel.readonly),placeholder:e.$t("dt.base.startTime")},on:{"on-change":e.handleStartTimeChange},model:{value:e.formTemp.officeTime.startTime,callback:function(t){e.$set(e.formTemp.officeTime,"startTime",t)},expression:"formTemp.officeTime.startTime"}}),a("DatePicker",{attrs:{type:"date",readonly:e.$FormCheck("endTime",e.formModel.readonly),disabled:e.$FormCheck("endTime",e.formModel.readonly),options:e.endTimeOptions,placeholder:e.$t("dt.base.endTime")+"（"+e.$t("dt.base.Optional")+"）"},model:{value:e.formTemp.officeTime.endTime,callback:function(t){e.$set(e.formTemp.officeTime,"endTime",t)},expression:"formTemp.officeTime.endTime"}})],1)],1),a("Col",{directives:[{name:"show",rawName:"v-show",value:!e.$FormCheck("remark",e.formModel.hide),expression:"!$FormCheck('remark', formModel.hide)"}],staticClass:"input-item",attrs:{xs:24,sm:16,md:16,lg:12,xl:8,xxl:6}},[a("FormItem",{attrs:{label:e.$t("dt.base.remark"),prop:"remark"}},[a("Input",{attrs:{readonly:e.$FormCheck("remark",e.formModel.readonly),clearable:!e.$FormCheck("remark",e.formModel.readonly),maxlength:"100","show-word-limit":"",type:"textarea",rows:4,placeholder:e.$t("dt.base.pleaseInput",{label:e.$t("dt.base.remark")})},model:{value:e.formData.remark,callback:function(t){e.$set(e.formData,"remark",t)},expression:"formData.remark"}})],1)],1),a("Col",{staticClass:"input-item",attrs:{xs:24,sm:16,md:16,lg:12,xl:8,xxl:6}},[a("FormItem",{attrs:{label:e.$t("dt.form.status")}},[a("i-switch",{attrs:{disabled:e.$FormCheck("state",e.formModel.readonly),size:"large"},model:{value:e.formData.state,callback:function(t){e.$set(e.formData,"state",t)},expression:"formData.state"}},e._l(e.$options.filters.state([]),(function(t,o){return a("span",{key:o,attrs:{slot:1===1*t.value?"open":"close"},slot:1===1*t.value?"open":"close"},[e._v(e._s(t.label))])})),0)],1)],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:2===e.active,expression:"active === 2"}]},[a("Col",{staticClass:"input-item form-item-flex",attrs:{xs:24,sm:24,md:20,lg:16,xl:14,xxl:12}},[a("FormItem",{directives:[{name:"show",rawName:"v-show",value:!e.$FormCheck("payMode",e.formModel.hide),expression:"!$FormCheck('payMode', formModel.hide)"}],style:{flex:1!==e.formData.payMode?.5:1},attrs:{label:e.$t("dt.form.WagesSettlement"),prop:"payMode"}},[a("RadioGroup",{attrs:{type:"button"},on:{"on-change":e.handlePayModeChange},model:{value:e.formData.payMode,callback:function(t){e.$set(e.formData,"payMode",t)},expression:"formData.payMode"}},e._l(e.$options.filters.payMode([]),(function(t){return a("Radio",{key:t.value,attrs:{clearable:!e.$FormCheck("payMode",e.formModel.readonly),disabled:e.$FormCheck("payMode",e.formModel.readonly),label:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:!e.$FormCheck("bank",e.formModel.hide)&&1===e.formData.payMode,expression:"!$FormCheck('bank', formModel.hide) && formData.payMode === 1"}],attrs:{label:e.$t("dt.form.Collection"),prop:"bank"}},[a("Input",{attrs:{readonly:e.$FormCheck("bank",e.formModel.readonly),clearable:!e.$FormCheck("bank",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseInput",{label:e.$t("dt.form.Collection")})},model:{value:e.formData.bank,callback:function(t){e.$set(e.formData,"bank",t)},expression:"formData.bank"}})],1)],1),a("Col",{directives:[{name:"show",rawName:"v-show",value:1===e.formData.payMode,expression:"formData.payMode === 1"}],staticClass:"input-item form-item-flex",attrs:{xs:24,sm:24,md:20,lg:16,xl:14,xxl:12}},[a("FormItem",{directives:[{name:"show",rawName:"v-show",value:!e.$FormCheck("bankUser",e.formModel.hide),expression:"!$FormCheck('bankUser', formModel.hide)"}],attrs:{label:e.$t("dt.form.Username"),prop:"bankUser"}},[a("Input",{attrs:{readonly:e.$FormCheck("bankUser",e.formModel.readonly),clearable:!e.$FormCheck("bankUser",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseInput",{label:e.$t("dt.form.Username")})},model:{value:e.formData.bankUser,callback:function(t){e.$set(e.formData,"bankUser",t)},expression:"formData.bankUser"}})],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:!e.$FormCheck("bankAccount",e.formModel.hide),expression:"!$FormCheck('bankAccount', formModel.hide)"}],attrs:{label:e.$t("dt.form.Account"),prop:"bankAccount"}},[a("Input",{attrs:{readonly:e.$FormCheck("bankAccount",e.formModel.readonly),clearable:!e.$FormCheck("bankAccount",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseInput",{label:e.$t("dt.form.Account")})},model:{value:e.formData.bankAccount,callback:function(t){e.$set(e.formData,"bankAccount",t)},expression:"formData.bankAccount"}})],1)],1),a("Col",{directives:[{name:"show",rawName:"v-show",value:!e.$FormCheck("other",e.formModel.hide),expression:"!$FormCheck('other', formModel.hide)"}],staticClass:"input-item form-item-flex",attrs:{xs:24,sm:16,md:16,lg:12,xl:8,xxl:6}},[a("FormItem",{attrs:{label:e.$t("dt.form.OtherDividend"),prop:"other"}},[a("RadioGroup",{attrs:{type:"button"},model:{value:e.formData.other,callback:function(t){e.$set(e.formData,"other",t)},expression:"formData.other"}},e._l(e.$options.filters.otherStatus([]),(function(t){return a("Radio",{key:t.value,attrs:{clearable:!e.$FormCheck("other",e.formModel.readonly),disabled:e.$FormCheck("other",e.formModel.readonly),label:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1)],1),a("Col",{directives:[{name:"show",rawName:"v-show",value:0!==e.formData.other,expression:"formData.other !== 0"}],staticClass:"input-item",attrs:{xs:24,sm:24,md:24,lg:24,xl:16,xxl:12}},[a("FormItem",[a("Table",{attrs:{columns:e.columns,data:e.formData.child,draggable:!0},on:{"on-drag-drop":e.handleTableOnDragDrop},scopedSlots:e._u([{key:"label",fn:function(t){var o=t.row,r=t.index,l=t.column;return[a("InputNumber",{attrs:{size:"small",min:1,readonly:e.$FormCheck(l.slot,e.formModel.readonly),clearable:!e.$FormCheck(l.slot,e.formModel.readonly)},on:{"on-change":function(t){return e.handleValueChange(o,r,l.slot)}},model:{value:o.label,callback:function(t){e.$set(o,"label",t)},expression:"row.label"}}),1===e.formData.other?a("span",[e._v(" "+e._s(e.$t("dt.base.unit")))]):a("span",[e._v(" "+e._s(e.$t("dt.base.piece")))]),a("span",[e._v(e._s(e.$t("dt.base.above")))])]}},{key:"value",fn:function(t){var o=t.row,r=t.index,l=t.column;return[a("InputNumber",{attrs:{size:"small",min:.01,step:.01,readonly:e.$FormCheck(l.slot,e.formModel.readonly),clearable:!e.$FormCheck(l.slot,e.formModel.readonly)},on:{"on-change":function(t){return e.handleValueChange(o,r,l.slot)}},model:{value:o.value,callback:function(t){e.$set(o,"value",t)},expression:"row.value"}}),1===o.tye?a("span",[e._v(" %")]):a("span",[e._v(" "+e._s(e.$t("dt.base.unit")))])]}},{key:"tye",fn:function(t){var o=t.row,r=t.index,l=t.column;return[a("RadioGroup",{attrs:{size:"small",type:"button"},on:{"on-change":function(t){return e.handleValueChange(o,r,l.slot)}},model:{value:o.tye,callback:function(t){e.$set(o,"tye",t)},expression:"row.tye"}},e._l(e.$options.filters.dividendRatio([]),(function(t,o){return a("Radio",{key:o,attrs:{readonly:e.$FormCheck(l.slot,e.formModel.readonly)||e.isReadonly,clearable:!e.$FormCheck(l.slot,e.formModel.readonly)||!e.isReadonly,label:t.value}},[e._v(e._s(t.label)+" ")])})),1)]}},{key:"action",fn:function(t){var o=t.index;return[e.formData.child.length>1?a("Button",{staticStyle:{"margin-right":"5px"},attrs:{size:"small",type:"error",disabled:e.isReadonly},on:{click:function(t){return e.handleAttrValueRemove(o)}}},[e._v(" "+e._s(e.$t("dt.form.delete"))+" ")]):e._e(),e.formData.child.length-1===o?a("Button",{attrs:{size:"small",type:"primary",disabled:e.isReadonly},on:{click:function(t){return e.handleAttrValueAdd()}}},[e._v(" "+e._s(e.$t("dt.form.add"))+" ")]):e._e()]}}])})],1)],1),a("Col",{directives:[{name:"show",rawName:"v-show",value:!e.$FormCheck("welfareIds",e.formModel.hide),expression:"!$FormCheck('welfareIds', formModel.hide)"}],staticClass:"input-item",attrs:{xs:24,sm:24,md:22,lg:20,xl:18,xxl:16}},[a("FormItem",{attrs:{label:e.$t("dt.form.WelfareName"),prop:"welfareIds"}},[a("ListSelectModal",{attrs:{title:e.$t("dt.base.pleaseSelect",{label:e.$t("dt.form.WelfareName")}),route:"WelfareAdd",api:e.$Model.Welfares,column:[{name:e.$t("dt.form.WelfareName")},{remark:e.$t("dt.base.remark")}],attrs:{label:"name",value:"id"},callback:e.handleWelfareDataFunc,readonly:e.$FormCheck("welfareIds",e.formModel.readonly),clearable:!e.$FormCheck("welfareIds",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseSelect",{label:e.$t("dt.form.WelfareName")})},model:{value:e.formData.welfareIds,callback:function(t){e.$set(e.formData,"welfareIds",t)},expression:"formData.welfareIds"}})],1)],1),a("Col",{directives:[{name:"show",rawName:"v-show",value:e.formTemp.welfareList.length>0,expression:"formTemp.welfareList.length > 0"}],staticClass:"input-item",attrs:{xs:24,sm:24,md:22,lg:22,xl:22,xxl:20}},[a("FormItem",[a("div",{staticClass:"drag-layer"},[a("Tag",{attrs:{color:"default"}},[e._v(e._s(e.$t("dt.toast.GragRowChange")))]),a("ul",{staticClass:"list"},[a("draggable",{attrs:{list:e.formTemp.welfareList}},e._l(e.formTemp.welfareList,(function(t){return a("li",{key:t.id,staticClass:"item"},[a("div",{staticClass:"item-body"},[a("span",{staticClass:"name"},[e._v(e._s(t.name))]),a("span",{staticClass:"data"},[a("InputNumber",{staticStyle:{"max-width":"400px"},attrs:{min:0,placeholder:e.$t("dt.base.pleaseInput",{label:t.name})+(t.remark?"("+t.remark+")":"")},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}})],1)]),a("div",{staticClass:"item-body"},[a("span",{staticClass:"name"},[e._v(e._s(e.$t("dt.base.Condition")))]),a("RadioGroup",{attrs:{type:"button"},on:{"on-change":function(a){return e.handleTyeChange(t)}},model:{value:t.tye,callback:function(a){e.$set(t,"tye",a)},expression:"item.tye"}},e._l(e.$options.filters.yearMonthDay([]),(function(t,o){return a("Radio",{key:o,attrs:{label:t.value}},[1===t.value?a("span",[e._v(e._s(t.label))]):a("Tooltip",{attrs:{content:e.$t("dt.toast.OfficeStartTime",{label:t.label}),placement:"top"}},[a("span",[e._v(e._s(t.label))])])],1)})),1)],1),1!==t.tye?a("div",{staticClass:"item-body"},[a("span",{staticClass:"name"},[e._v(e._s(""+e.$t("dt.base.Entry")+e.$t("dt.base.Full")))]),a("Tooltip",{staticClass:"welfare-input",attrs:{content:""+e.$t("dt.base.Entry")+e.$t("dt.base.Full")+"xx"+t.tye,placement:"top"}},[a("Input",{attrs:{type:"number",number:"",placeholder:""+e.$t("dt.base.pleaseInput",{label:"xx"+e.$options.filters.yearMonthDay(t.tye)})},model:{value:t.demand,callback:function(a){e.$set(t,"demand",a)},expression:"item.demand"}})],1)],1):e._e()])})),0)],1)],1)])],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:3===e.active,expression:"active === 3"}]},[a("Col",{staticClass:"input-item form-item-flex",attrs:{xs:24,sm:24,md:20,lg:16,xl:14,xxl:12}},[a("FormItem",{directives:[{name:"show",rawName:"v-show",value:!e.$FormCheck("identity",e.formModel.hide),expression:"!$FormCheck('identity', formModel.hide)"}],attrs:{label:e.$t("dt.form.Identity"),prop:"identity"}},[a("Input",{attrs:{readonly:e.$FormCheck("identity",e.formModel.readonly),clearable:!e.$FormCheck("identity",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseInput",{label:e.$t("dt.form.Identity")})},model:{value:e.formData.jobInfo.identity,callback:function(t){e.$set(e.formData.jobInfo,"identity",t)},expression:"formData.jobInfo.identity"}})],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:!e.$FormCheck("birthday",e.formModel.hide),expression:"!$FormCheck('birthday', formModel.hide)"}],attrs:{label:e.$t("dt.form.Birthday"),prop:"birthday"}},[a("DatePicker",{attrs:{type:"date",readonly:e.$FormCheck("birthday",e.formModel.readonly),disabled:e.$FormCheck("birthday",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseInput",{label:e.$t("dt.form.Birthday")})},model:{value:e.formData.jobInfo.birthday,callback:function(t){e.$set(e.formData.jobInfo,"birthday",t)},expression:"formData.jobInfo.birthday"}})],1)],1),a("Col",{staticClass:"input-item form-item-flex",attrs:{xs:24,sm:24,md:20,lg:16,xl:14,xxl:12}},[a("FormItem",{directives:[{name:"show",rawName:"v-show",value:!e.$FormCheck("politics",e.formModel.hide),expression:"!$FormCheck('politics', formModel.hide)"}],attrs:{label:""+e.$t("dt.form.Politics"),prop:"politics"}},[a("Select",{attrs:{disabled:e.$FormCheck("politics",e.formModel.readonly),readonly:e.$FormCheck("politics",e.formModel.readonly),clearable:!e.$FormCheck("politics",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseSelect",{label:e.$t("dt.form.Politics")})},model:{value:e.formData.jobInfo.politics,callback:function(t){e.$set(e.formData.jobInfo,"politics",t)},expression:"formData.jobInfo.politics"}},e._l(e.$options.filters.politics([]),(function(t,o){return a("Option",{key:o,attrs:{value:t.value,label:t.label}},[e._v(" "+e._s(t.label)+" ")])})),1)],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:!e.$FormCheck("nation",e.formModel.hide),expression:"!$FormCheck('nation', formModel.hide)"}],attrs:{label:""+e.$t("dt.form.Nation"),prop:"nation"}},[a("Select",{attrs:{filterable:"",disabled:e.$FormCheck("nation",e.formModel.readonly),readonly:e.$FormCheck("nation",e.formModel.readonly),clearable:!e.$FormCheck("nation",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseSelect",{label:e.$t("dt.form.Nation")})},model:{value:e.formData.jobInfo.nation,callback:function(t){e.$set(e.formData.jobInfo,"nation",t)},expression:"formData.jobInfo.nation"}},e._l(e.$options.filters.nation([]),(function(t,o){return a("Option",{key:o,attrs:{value:t.value,label:t.label}},[e._v(" "+e._s(t.label)+" ")])})),1)],1)],1),a("Col",{staticClass:"input-item form-item-flex",attrs:{xs:24,sm:24,md:20,lg:16,xl:14,xxl:12}},[a("FormItem",{directives:[{name:"show",rawName:"v-show",value:!e.$FormCheck("family",e.formModel.hide),expression:"!$FormCheck('family', formModel.hide)"}],attrs:{label:""+e.$t("dt.form.Family"),prop:"family"}},[a("Address",{attrs:{label:e.$t("dt.form.Family"),data:e.formTemp.address},on:{handleAddressChange:e.handleAddressChange}})],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:!e.$FormCheck("address",e.formModel.hide),expression:"!$FormCheck('address', formModel.hide)"}],attrs:{label:e.$t("dt.form.Address"),prop:"address"}},[a("Input",{attrs:{readonly:e.$FormCheck("address",e.formModel.readonly),clearable:!e.$FormCheck("address",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseInput",{label:e.$t("dt.form.Address")})},model:{value:e.formData.jobInfo.address,callback:function(t){e.$set(e.formData.jobInfo,"address",t)},expression:"formData.jobInfo.address"}})],1)],1),a("Col",{staticClass:"input-item form-item-flex",attrs:{xs:24,sm:24,md:20,lg:16,xl:14,xxl:12}},[a("FormItem",{directives:[{name:"show",rawName:"v-show",value:!e.$FormCheck("height",e.formModel.hide),expression:"!$FormCheck('height', formModel.hide)"}],attrs:{label:e.$t("dt.form.Height"),prop:"height"}},[a("Input",{attrs:{readonly:e.$FormCheck("height",e.formModel.readonly),clearable:!e.$FormCheck("height",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseInput",{label:e.$t("dt.form.Height")})},model:{value:e.formData.jobInfo.height,callback:function(t){e.$set(e.formData.jobInfo,"height",t)},expression:"formData.jobInfo.height"}}),a("span",[e._v("cm")])],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:!e.$FormCheck("kilo",e.formModel.hide),expression:"!$FormCheck('kilo', formModel.hide)"}],attrs:{label:e.$t("dt.form.Kilo"),prop:"kilo"}},[a("Input",{attrs:{readonly:e.$FormCheck("kilo",e.formModel.readonly),clearable:!e.$FormCheck("kilo",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseInput",{label:e.$t("dt.form.Kilo")})},model:{value:e.formData.jobInfo.kilo,callback:function(t){e.$set(e.formData.jobInfo,"kilo",t)},expression:"formData.jobInfo.kilo"}}),a("span",[e._v("kg")])],1)],1),a("Col",{staticClass:"input-item form-item-flex",attrs:{xs:24,sm:24,md:20,lg:16,xl:14,xxl:12}},[a("FormItem",{directives:[{name:"show",rawName:"v-show",value:!e.$FormCheck("marriage",e.formModel.hide),expression:"!$FormCheck('marriage', formModel.hide)"}],attrs:{label:""+e.$t("dt.form.Marriage"),prop:"marriage"}},[a("Select",{attrs:{disabled:e.$FormCheck("marriage",e.formModel.readonly),readonly:e.$FormCheck("marriage",e.formModel.readonly),clearable:!e.$FormCheck("marriage",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseSelect",{label:e.$t("dt.form.Marriage")})},model:{value:e.formData.jobInfo.marriage,callback:function(t){e.$set(e.formData.jobInfo,"marriage",t)},expression:"formData.jobInfo.marriage"}},e._l(e.$options.filters.marriage([]),(function(t,o){return a("Option",{key:o,attrs:{value:t.value,label:t.label}},[e._v(" "+e._s(t.label)+" ")])})),1)],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:!e.$FormCheck("school",e.formModel.hide),expression:"!$FormCheck('school', formModel.hide)"}],attrs:{label:e.$t("dt.form.School"),prop:"school"}},[a("Input",{attrs:{readonly:e.$FormCheck("school",e.formModel.readonly),clearable:!e.$FormCheck("school",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseInput",{label:e.$t("dt.form.School")})},model:{value:e.formData.jobInfo.school,callback:function(t){e.$set(e.formData.jobInfo,"school",t)},expression:"formData.jobInfo.school"}})],1)],1),a("Col",{staticClass:"input-item form-item-flex",attrs:{xs:24,sm:24,md:20,lg:16,xl:14,xxl:12}},[a("FormItem",{directives:[{name:"show",rawName:"v-show",value:!e.$FormCheck("education",e.formModel.hide),expression:"!$FormCheck('education', formModel.hide)"}],attrs:{label:""+e.$t("dt.form.Education"),prop:"education"}},[a("Select",{attrs:{disabled:e.$FormCheck("education",e.formModel.readonly),readonly:e.$FormCheck("education",e.formModel.readonly),clearable:!e.$FormCheck("education",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseSelect",{label:e.$t("dt.form.Education")})},model:{value:e.formData.jobInfo.education,callback:function(t){e.$set(e.formData.jobInfo,"education",t)},expression:"formData.jobInfo.education"}},e._l(e.$options.filters.education([]),(function(t,o){return a("Option",{key:o,attrs:{value:t.value,label:t.label}},[e._v(" "+e._s(t.label)+" ")])})),1)],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:!e.$FormCheck("major",e.formModel.hide),expression:"!$FormCheck('major', formModel.hide)"}],attrs:{label:e.$t("dt.form.Major"),prop:"major"}},[a("Input",{attrs:{readonly:e.$FormCheck("major",e.formModel.readonly),clearable:!e.$FormCheck("major",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseInput",{label:e.$t("dt.form.Major")})},model:{value:e.formData.jobInfo.major,callback:function(t){e.$set(e.formData.jobInfo,"major",t)},expression:"formData.jobInfo.major"}})],1)],1),a("Col",{staticClass:"input-item form-item-flex",attrs:{xs:24,sm:24,md:20,lg:16,xl:14,xxl:12}},[a("FormItem",{directives:[{name:"show",rawName:"v-show",value:!e.$FormCheck("liaisonName",e.formModel.hide),expression:"!$FormCheck('liaisonName', formModel.hide)"}],attrs:{label:e.$t("dt.form.LiaisonName"),prop:"liaisonName"}},[a("Input",{attrs:{readonly:e.$FormCheck("liaisonName",e.formModel.readonly),clearable:!e.$FormCheck("liaisonName",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseInput",{label:e.$t("dt.form.LiaisonName")})},model:{value:e.formData.jobInfo.liaisonName,callback:function(t){e.$set(e.formData.jobInfo,"liaisonName",t)},expression:"formData.jobInfo.liaisonName"}})],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:!e.$FormCheck("liaisonPhone",e.formModel.hide),expression:"!$FormCheck('liaisonPhone', formModel.hide)"}],attrs:{label:e.$t("dt.form.LiaisonPhone"),prop:"liaisonPhone"}},[a("Input",{attrs:{readonly:e.$FormCheck("liaisonPhone",e.formModel.readonly),clearable:!e.$FormCheck("liaisonPhone",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseInput",{label:e.$t("dt.form.LiaisonPhone")})},model:{value:e.formData.jobInfo.liaisonPhone,callback:function(t){e.$set(e.formData.jobInfo,"liaisonPhone",t)},expression:"formData.jobInfo.liaisonPhone"}})],1)],1),a("Col",{staticClass:"input-item form-item-flex",attrs:{xs:24,sm:24,md:20,lg:16,xl:14,xxl:12}},[a("FormItem",{attrs:{label:e.$t("dt.form.EducationRecord")}},[a("div",{staticClass:"multiple-group"},e._l(e.formData.jobInfo.schoolOld,(function(t,o){return a("div",{key:o,staticClass:"multiple-item"},[a("div",{staticClass:"multiple-left"},[a("div",{staticClass:"item-top"},[a("Input",{attrs:{readonly:e.$FormCheck("name",e.formModel.readonly),clearable:!e.$FormCheck("name",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseInput",{label:e.$t("dt.form.SchoolName")})},model:{value:t.name,callback:function(a){e.$set(t,"name",a)},expression:"item.name"}}),a("Input",{attrs:{readonly:e.$FormCheck("major",e.formModel.readonly),clearable:!e.$FormCheck("major",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseInput",{label:e.$t("dt.form.Major")})},model:{value:t.major,callback:function(a){e.$set(t,"major",a)},expression:"item.major"}}),a("DatePicker",{attrs:{type:"daterange",readonly:e.$FormCheck("date",e.formModel.readonly),disabled:e.$FormCheck("date",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseSelect",{label:e.$t("dt.form.StartAndEndTime")})},model:{value:t.date,callback:function(a){e.$set(t,"date",a)},expression:"item.date"}})],1),a("div",{staticClass:"item-bot"},[a("Input",{attrs:{readonly:e.$FormCheck("remark",e.formModel.readonly),clearable:!e.$FormCheck("remark",e.formModel.readonly),maxlength:"255","show-word-limit":"",type:"textarea",rows:2,placeholder:e.$t("dt.base.pleaseInput",{label:e.$t("dt.base.remark")})+"（"+e.$t("dt.base.Optional")+"）"},model:{value:t.remark,callback:function(a){e.$set(t,"remark",a)},expression:"item.remark"}})],1)]),!e.isReadonly&&e.$isHasMenuAuth("admin.UserEdit")?a("div",{staticClass:"no-flex"},[1!==e.formData.jobInfo.schoolOld.length?a("span",{staticClass:"delete",on:{click:function(t){return e.handleSchoolOldRemove(o)}}},[e._v(e._s(e.$t("dt.form.delete")))]):e._e(),o===e.formData.jobInfo.schoolOld.length-1?a("span",{staticClass:"add",on:{click:function(a){return e.handleSchoolOldAdd(t)}}},[e._v(e._s(e.$t("dt.form.add")))]):e._e()]):e._e()])})),0)])],1),a("Col",{staticClass:"input-item form-item-flex",attrs:{xs:24,sm:24,md:20,lg:16,xl:14,xxl:12}},[a("FormItem",{attrs:{label:e.$t("dt.form.WorkRecord")}},[a("div",{staticClass:"multiple-group"},e._l(e.formData.jobInfo.workOld,(function(t,o){return a("div",{key:o,staticClass:"multiple-item"},[a("div",{staticClass:"multiple-left"},[a("div",{staticClass:"item-top"},[a("Input",{attrs:{readonly:e.$FormCheck("name",e.formModel.readonly),clearable:!e.$FormCheck("name",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseInput",{label:e.$t("dt.form.WorkRecordName")})},model:{value:t.name,callback:function(a){e.$set(t,"name",a)},expression:"item.name"}}),a("Input",{attrs:{readonly:e.$FormCheck("jobName",e.formModel.readonly),clearable:!e.$FormCheck("jobName",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseInput",{label:e.$t("dt.form.role")})},model:{value:t.jobName,callback:function(a){e.$set(t,"jobName",a)},expression:"item.jobName"}}),a("DatePicker",{attrs:{type:"daterange",readonly:e.$FormCheck("date",e.formModel.readonly),disabled:e.$FormCheck("date",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseSelect",{label:e.$t("dt.form.StartAndEndTime")})},model:{value:t.date,callback:function(a){e.$set(t,"date",a)},expression:"item.date"}})],1),a("div",{staticClass:"item-bot"},[a("Input",{attrs:{readonly:e.$FormCheck("quit",e.formModel.readonly),clearable:!e.$FormCheck("quit",e.formModel.readonly),maxlength:"255","show-word-limit":"",type:"textarea",rows:2,placeholder:e.$t("dt.base.pleaseInput",{label:e.$t("dt.form.QuitWork")})+"（"+e.$t("dt.base.Optional")+"）"},model:{value:t.quit,callback:function(a){e.$set(t,"quit",a)},expression:"item.quit"}})],1)]),!e.isReadonly&&e.$isHasMenuAuth("admin.UserEdit")?a("div",{staticClass:"no-flex"},[1!==e.formData.jobInfo.workOld.length?a("span",{staticClass:"delete",on:{click:function(t){return e.handleWorkOldRemove(o)}}},[e._v(e._s(e.$t("dt.form.delete")))]):e._e(),o===e.formData.jobInfo.workOld.length-1?a("span",{staticClass:"add",on:{click:function(a){return e.handleWorkOldAdd(t)}}},[e._v(e._s(e.$t("dt.form.add")))]):e._e()]):e._e()])})),0)])],1),a("Col",{staticClass:"input-item form-item-flex",attrs:{xs:24,sm:24,md:20,lg:16,xl:14,xxl:12}},[a("FormItem",{attrs:{label:e.$t("dt.form.JobEnclosure")}},[a("div",{staticClass:"multiple-group"},e._l(e.formData.jobInfo.enclosure,(function(t,o){return a("div",{key:o,staticClass:"multiple-item"},[a("div",{staticClass:"multiple-left"},[a("div",{staticClass:"item-top"},[a("Input",{attrs:{readonly:e.$FormCheck("name",e.formModel.readonly),clearable:!e.$FormCheck("name",e.formModel.readonly),placeholder:e.$t("dt.base.pleaseInput",{label:e.$t("dt.form.EnclosureName")})},model:{value:t.name,callback:function(a){e.$set(t,"name",a)},expression:"item.name"}}),a("UploadFile",{attrs:{autoUpload:!0,disabled:e.$FormCheck("name",e.formModel.readonly)},model:{value:t.url,callback:function(a){e.$set(t,"url",a)},expression:"item.url"}},[a("Button",{staticClass:"upload-button",attrs:{icon:"ios-cloud-upload-outline"}},[e._v(" "+e._s(t.url?e.$t("dt.toast.AlreadyUpload"):"Upload file")+" "),t.url?a("div",{staticClass:"upload-list-cover"},[a("Icon",{attrs:{type:"ios-eye-outline",color:"#fff"},on:{click:function(a){return a.stopPropagation(),e.handleView(t)}}}),a("Icon",{attrs:{type:"ios-camera-outline",color:"#fff"}})],1):e._e()])],1)],1)]),!e.isReadonly&&e.$isHasMenuAuth("admin.UserEdit")?a("div",{staticClass:"no-flex"},[1!==e.formData.jobInfo.enclosure.length?a("span",{staticClass:"delete",on:{click:function(t){return e.handleEnclosureRemove(o)}}},[e._v(e._s(e.$t("dt.form.delete")))]):e._e(),o===e.formData.jobInfo.enclosure.length-1?a("span",{staticClass:"add",on:{click:function(a){return e.handleEnclosureAdd(t)}}},[e._v(e._s(e.$t("dt.form.add")))]):e._e()]):e._e()])})),0)])],1),a("Col",{staticClass:"input-item form-item-flex",attrs:{xs:24,sm:24,md:20,lg:16,xl:14,xxl:12}},[a("FormItem",{directives:[{name:"show",rawName:"v-show",value:!e.$FormCheck("remark",e.formModel.hide),expression:"!$FormCheck('remark', formModel.hide)"}],attrs:{label:e.$t("dt.base.remark"),prop:"remark"}},[a("Input",{attrs:{readonly:e.$FormCheck("remark",e.formModel.readonly),clearable:!e.$FormCheck("remark",e.formModel.readonly),maxlength:"255","show-word-limit":"",type:"textarea",rows:4,placeholder:e.$t("dt.base.pleaseInput",{label:e.$t("dt.base.remark")})},model:{value:e.formData.remark,callback:function(t){e.$set(e.formData,"remark",t)},expression:"formData.remark"}})],1)],1)],1),a("Col",{staticClass:"input-item",attrs:{xs:24,sm:16,md:16,lg:12,xl:8,xxl:6}},[a("FormItem",[!e.isReadonly&&e.$isHasMenuAuth("admin.UserAdd")||!e.isReadonly&&e.$isHasMenuAuth("admin.UserEdit")?a("Button",{attrs:{type:"primary",loading:e.loading},on:{click:e.handleSumbitCheck}},[e._v(" "+e._s(e.btnTitle)+" ")]):e.$isHasMenuAuth("admin.UserEdit")&&this.$UserInfo.id!==e.id||e.$isHasMenuAuth("admin.UserEdit")&&!0===e.$UserInfo.admin?a("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary"},on:{click:function(t){return e.handleCheckHabitType({name:"admin.UserEdit",params:{id:e.id}})}}},[e._v(" "+e._s(e.$t("dt.form.edit"))+" ")]):e._e(),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){return e.handleRouteGoBack("admin.UserList")}}},[e._v(e._s(e.$t("dt.base.back")))])],1)],1)],1)],1)],1),a("Modal",{attrs:{title:e.$t("dt.form.ViewEnclosure"),scrollable:""},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[e.formTemp.previewUrl?a("img",{staticStyle:{"max-width":"100%",display:"block",margin:"auto"},attrs:{src:e._f("formatImage")(e.formTemp.previewUrl)}}):e._e()])],1)},r=[],l=(a("2d38"),a("2c78"),a("1b8a"),a("9c05"),a("69bf"),a("64fe"),a("02bf"),a("90d4"),a("c627"),a("5c4c"),a("d8f4"),a("2083"),a("4c09")),n=a("d211"),i=(a("6a61"),a("2e91")),s=a("3335"),d=a.n(s),m=a("b8f9"),c=a("4ec25"),f=a("ee8a"),u=a("f26a"),h=a("494e"),p={name:"UserModel",mixins:[c["a"]],data:function(){return{button1:"",officeName:"",active:1,visible:!1,isNewUser:!1,formData:{other:0,payMode:2,sex:0,jobInfo:{birthday:null,politics:4,nation:20,schoolOld:[{name:null,major:null,date:null,remark:null}],workOld:[{name:null,jobName:null,date:null,quit:null}],enclosure:[{name:null,url:null}]},userRoleItem:[{bid:null,gid:null,rid:[],groups:[],roles:[]}],welfareItem:[],branchIds:[],welfareIds:[],bank:null,bankUser:null,bankAccount:null,child:[{label:1,value:0,tye:1}]},formTemp:{previewUrl:null,address:[],branchList:[],groupList:[],officeList:[],welfareList:[],officeTime:{startTime:null,endTime:null},welfare:[]},endTimeOptions:{},ruleInline:{username:[{required:!0,message:this.$t("dt.base.pleaseInput",{label:this.$t("dt.form.Username")}),trigger:"blur"}],branchsId:[{required:!0,message:this.$t("dt.base.pleaseSelect",{label:this.$t("dt.form.ParentBranch")}),trigger:"blur"}],jobInfo:{identity:[{required:!1,message:this.$t("dt.base.pleaseInput",{label:this.$t("dt.form.Identity")}),trigger:"blur"},{validator:this.$Validator("identity",this.$t("dt.form.Identity")),trigger:"blur"}]},liaisonPhone:[{required:!1,message:this.$t("dt.base.pleaseInput",{label:this.$t("dt.form.LiaisonPhone")}),trigger:"blur"},{validator:this.$Validator("phone",this.$t("dt.form.LiaisonPhone")),trigger:"blur"}]}}},computed:{columns:function(){return[{title:this.$options.filters.programType(this.formData.other),align:"center",width:200,slot:"label"},{title:this.$t("dt.form.DividendMoney"),align:"center",slot:"value"},{title:this.$t("dt.base.ComputeType"),align:"center",width:160,slot:"tye"},{title:this.$t("dt.form.action"),width:130,slot:"action"}]}},created:function(){this.$apollo.getClient().cache.reset(),this.$isHasMenuAuth("admin.BranchList")&&this.handleBranchList(),this.$isHasMenuAuth("admin.OfficeList")&&this.handleOfficeList(),m["a"].isEmpty(this.id)&&(this.ruleInline.phone=[{required:!0,message:this.$t("dt.base.pleaseSelect",{label:this.$t("dt.form.Phone")}),trigger:"blur"},{validator:this.$Validator("phone",this.$t("dt.form.Phone")),trigger:"blur"}])},mounted:function(){m["a"].isEmpty(this.id)||this.handleDetail()},components:{draggable:d.a,Address:f["a"],UploadFile:u["a"],ListSelectModal:h["a"]},watch:{"formTemp.groupList":function(e,t){e&&e!==t&&this.handleInitGroupItems()},"formTemp.officeTime.startTime":function(e){e?this.handleDisabledDate():this.endTimeOptions={}}},methods:{handleDetail:function(){var e=this;this.$Http.Post({mutation:this.$Model.UserDetail,variables:{id:this.id},fields:["id","uid","phone","sex","username","branchIds","welfareIds","welfareItemIds","startTime","endTime","state","other","payMode","bank","bankUser","bankAccount","userRoleItem.id","userRoleItem.bid","userRoleItem.gid","userRoleItem.rid","welfareItem.id","welfareItem.tye","welfareItem.demand","welfareItem.value","welfareItem.welfareId","office.id","office.name","child.id","child.label","child.value","child.tye","child.other","child.weight"]},(function(){e.$router.push({name:"admin.UserList"})})).then(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a){var o,r,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=a.data,(0===o.other||m["a"].isEmpty(o.child))&&(o.child=[{label:1,value:0,tye:1}]),m["a"].sortBy(o.child,{key:"weight",type:"min"}),o.state=1===o.state||!0===o.state,o.userRoleItem=m["a"].isEmpty(o.userRoleItem)?[{bid:null,gid:null,rid:[],groups:[],roles:[]}]:o.userRoleItem,t.next=7,e.handleUserjobInfo(o.id);case 7:return o.jobInfo=t.sent,m["a"].isEmpty(o.jobInfo)&&(o.jobInfo=e.formData.jobInfo),m["a"].isEmpty(o.jobInfo.schoolOld)&&(o.jobInfo.schoolOld=e.formData.jobInfo.schoolOld),m["a"].isEmpty(o.jobInfo.workOld)&&(o.jobInfo.workOld=e.formData.jobInfo.workOld),m["a"].isEmpty(o.jobInfo.enclosure)&&(o.jobInfo.enclosure=e.formData.jobInfo.enclosure),e.formTemp.address=[o.jobInfo.prov,o.jobInfo.city,o.jobInfo.area,o.jobInfo.town,o.jobInfo.village],m["a"].isEmpty(o.jobInfo.birthday)||(o.jobInfo.birthday=new Date(e.$options.filters.formatTime(o.jobInfo.birthday,"YYYY-MM-DD"))),m["a"].isEmpty(o.office)||(e.officeName=o.office.name,r=o.startTime,l=o.endTime,e.formTemp.officeTime.startTime=r?new Date(e.$options.filters.formatTime(r)):null,e.formTemp.officeTime.endTime=l?new Date(e.$options.filters.formatTime(l)):null),m["a"].isEmpty(o.welfareItem)||m["a"].each(o.welfareItem,(function(t){t.value=e.$options.filters.money(t.value,0)})),e.formData=Object(n["a"])(Object(n["a"])({},e.formData),o),m["a"].each(e.formData.userRoleItem,(function(t){e.handleBranchSelect(t)})),t.next=20,e.handleWelfareValueList();case 20:e.handleDisabledDate(),e.handleInitGroupItems();case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},handleUserjobInfo:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var o,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$Http.Post({mutation:t.$Model.UserJobInfoDetail,variables:{filter:{userId:e}},fields:["id","identity","birthday","politics","nation","prov","city","area","town","village","address","fullAddress","height","kilo","marriage","school","education","major","liaisonName","liaisonPhone","schoolOld.id","schoolOld.name","schoolOld.major","schoolOld.startTime","schoolOld.endTime","schoolOld.remark","workOld.id","workOld.name","workOld.jobName","workOld.startTime","workOld.endTime","workOld.quit","enclosure.id","enclosure.name","enclosure.url"]}).then((function(e){return e}));case 2:return o=a.sent,r=o.data,m["a"].each(r.schoolOld,(function(e){e.date=[new Date(t.$options.filters.formatTime(e.startTime,"YYYY-MM-DD")),new Date(t.$options.filters.formatTime(e.endTime,"YYYY-MM-DD"))]})),m["a"].each(r.workOld,(function(e){e.date=[new Date(t.$options.filters.formatTime(e.startTime,"YYYY-MM-DD")),new Date(t.$options.filters.formatTime(e.endTime,"YYYY-MM-DD"))]})),a.abrupt("return",r);case 7:case"end":return a.stop()}}),a)})))()},handleOfficeList:function(){var e=this;this.$Http.Post({mutation:this.$Model.Offices,variables:{perPage:0},fields:[{data:["id","name"]}]}).then((function(t){var a=t.data;e.formTemp.officeList=a.data}))},handleWelfareValueList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.formData.welfareIds;this.$Http.Post({mutation:this.$Model.Welfares,variables:{perPage:0,filter:{id_in:t},sort:[{weight:"ASC"}]},fields:[{data:["id","name","remark","weight"]}]}).then((function(t){var a=t.data;e.handleWelfareDataFunc(a.data)}))},handleWelfareDataFunc:function(e){var t=this;if(m["a"].isEmpty(e))this.formTemp.welfareList=[];else if(e.length<this.formData.welfareIds.length){var a=e.map((function(e){return e.id}));this.formTemp.welfareList=this.formTemp.welfareList.filter((function(e){return-1!==a.indexOf(e.welfareId)}))}else{e=m["a"].sortBy(e,{key:"weight",type:"min"});var o=[];m["a"].each(e,(function(e,a){var r=t.formData.welfareItem.find((function(t){return t.welfareId===e.id}))||{};m["a"].isEmpty(r)?o.push({value:null,tye:1,demand:e.demand||null,welfareId:e.id,weight:a,remark:e.remark,name:e.name}):o.push({id:r.id,value:r.value,tye:r.tye,demand:r.demand||null,welfareId:r.welfareId||e.id,weight:r.weight,remark:r.remark||e.remark,name:e.name})})),this.formTemp.welfareList=o}},handleInitGroupItems:function(){m["a"].each(this.formData.userRoleItem,(function(e){e.bid=e.bid||null,e.rid=m["a"].isString(e.rid)?e.rid.split(","):e.rid}))},handleBranchList:function(){var e=this;this.$Http.Post({mutation:this.$Model.Branchs,variables:{perPage:0},fields:[{data:["id","name","groups.id","groups.name"]}]}).then((function(t){var a=t.data;e.formTemp.branchList=a.data}))},handleBranchSelect:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;0!==t&&(e.groups=[],e.roles=[],e.gid=null,e.rid=[]);var a=this.formTemp.branchList.find((function(t){return t.id===e.bid}));m["a"].isEmpty(a)||(e.groups=a.groups||[]),this.handleGroupSelect(e,t)},handleGroupSelect:function(e){var t=arguments,a=this;return Object(i["a"])(regeneratorRuntime.mark((function o(){var r,l,n;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(r=t.length>1&&void 0!==t[1]?t[1]:0,0!==r&&(e.roles=[],e.rid=[]),!m["a"].isEmpty(e.roles)||m["a"].isEmpty(e.gid)){o.next=7;break}return o.next=5,a.handleRoleList(e.gid);case 5:l=o.sent,a.$set(e,"roles",l.data);case 7:n=a.formData.userRoleItem.filter((function(t){return t.gid&&t.bid===e.bid})).map((function(e){return e.gid})),m["a"].each(e.groups,(function(e){e.checked=!1,-1!==n.indexOf(e.id)&&(e.checked=!0)}));case 9:case"end":return o.stop()}}),o)})))()},handleRoleList:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!t.$isHasMenuAuth("admin.RoleList")){a.next=4;break}return a.next=3,t.$Http.Post({mutation:t.$Model.Roles,variables:{perPage:0,filter:{groupId:e}},fields:[{data:["id","name"]}]}).then((function(e){return e.data}));case 3:return a.abrupt("return",a.sent);case 4:return a.abrupt("return",[]);case 5:case"end":return a.stop()}}),a)})))()},handleGroupAdd:function(){this.formData.userRoleItem.push({bid:null,gid:null,rid:[],groups:[],roles:[]})},handleGroupRemove:function(e){this.formData.userRoleItem.splice(e,1)},handleSchoolOldAdd:function(e){m["a"].isEmpty(e.name)||m["a"].isEmpty(e.major)||m["a"].isEmpty(e.date)||m["a"].isEmpty(e.date[0])||m["a"].isEmpty(e.date[1])?this.$Notice.warning({title:this.$t("dt.toast.tips"),desc:this.$t("dt.form.EducationRecord")+this.$t("dt.base.notFillIn")}):this.formData.jobInfo.schoolOld.push({name:null,major:null,date:null,remark:null,jobInfoId:this.formData.jobInfo.id})},handleSchoolOldRemove:function(e){this.formData.jobInfo.schoolOld.splice(e,1)},handleWorkOldAdd:function(e){m["a"].isEmpty(e.name)||m["a"].isEmpty(e.jobName)||m["a"].isEmpty(e.date)||m["a"].isEmpty(e.date[0])||m["a"].isEmpty(e.date[1])?this.$Notice.warning({title:this.$t("dt.toast.tips"),desc:this.$t("dt.form.WorkRecord")+this.$t("dt.base.notFillIn")}):this.formData.jobInfo.workOld.push({name:null,jobName:null,date:null,quit:null,jobInfoId:this.formData.jobInfo.id})},handleWorkOldRemove:function(e){this.formData.jobInfo.workOld.splice(e,1)},handleEnclosureAdd:function(e){m["a"].isEmpty(e.name)||m["a"].isEmpty(e.url)?this.$Notice.warning({title:this.$t("dt.toast.tips"),desc:this.$t("dt.form.JobEnclosure")+this.$t("dt.base.notFillIn")}):this.formData.jobInfo.enclosure.push({name:null,url:null,jobInfoId:this.formData.jobInfo.id})},handleEnclosureRemove:function(e){this.formData.jobInfo.enclosure.splice(e,1)},handleAddressChange:function(e){m["a"].isObject(e)&&(this.formData.jobInfo=Object(n["a"])(Object(n["a"])({},this.formData.jobInfo),e))},handleView:function(e){m["a"].isEmpty(e)||(this.formTemp.previewUrl=e.url,this.visible=!0)},handleRadioChange:function(){this.formTemp.officeTime.startTime=null,this.formTemp.officeTime.endTime=null},handleStartTimeChange:function(){this.formTemp.officeTime.endTime=null,this.handleDisabledDate()},handleDisabledDate:function(){var e=this;this.endTimeOptions.disabledDate=function(t){return t&&t.valueOf()<e.formTemp.officeTime.startTime.valueOf()+864e5}},handleTyeChange:function(e){1===this.$options.filters.yearMonthDay(e.tye)&&(e.demand="")},handleOnBlurPhone:function(){var e=this;this.isNewUser=!1,delete this.ruleInline.password,this.formData.phone&&!this.id&&this.$Http.Post({mutation:this.$Model.CheckUser,variables:{phone:this.formData.phone}}).then((function(t){var a=t.data;if(m["a"].isEmpty(a.id))return e.isNewUser=!0,void(e.ruleInline.password=[{required:!0,message:e.$t("dt.base.pleaseInput",{label:e.$t("dt.form.Password")}),trigger:"blur"},{validator:e.$Validator("password",e.$t("dt.form.Password")),trigger:"blur"}]);a.uid=a.id,e.formData=Object(n["a"])(Object(n["a"])({},e.formData),a)}))},handleTableOnDragDrop:function(e,t){var a;(a=this.formData.child).splice.apply(a,[t,0].concat(Object(l["a"])(this.formData.child.splice(e,1))))},handleValueChange:function(e,t,a){this.formData.child[t][a]=e[a]},handleAttrValueRemove:function(e){this.formData.child.splice(e,1)},handleAttrValueAdd:function(){var e=this.handleCheckEmptyAttrValue();!0!==e?m["a"].isRepeat(this.formData.child.map((function(e){return e.value})))?this.$Notice.warning({title:this.$t("dt.toast.tips"),desc:this.$t("dt.form.ProgramType")+this.$t("dt.base.isBeRepeat")}):this.formData.child.push({label:1,value:0,tye:1===this.formData.other?1:2}):this.$Notice.warning({title:this.$t("dt.toast.tips"),desc:this.$t("dt.form.ProgramType")+this.$t("dt.api.notEmpty")})},handleCheckEmptyAttrValue:function(){var e=this.formData.child;return e.filter((function(e){return m["a"].isEmpty(e.value)})).length>0},handlePayModeChange:function(e){1===e?(this.ruleInline.bank=[{required:!0,message:this.$t("dt.base.pleaseSelect",{label:this.$t("dt.form.PayChannel")}),trigger:"blur"}],this.ruleInline.bankUser=[{required:!0,message:this.$t("dt.base.pleaseSelect",{label:this.$t("dt.form.Username")}),trigger:"blur"}],this.ruleInline.bankAccount=[{required:!0,message:this.$t("dt.base.pleaseSelect",{label:this.$t("dt.form.Account")}),trigger:"blur"}]):(this.formData.bank=null,this.formData.bankUser=null,this.formData.bankAccount=null,delete this.ruleInline.bank,delete this.ruleInline.bankUser,delete this.ruleInline.bankAccount)},handleSumbitCheck:function(){var e=this,t=Object(n["a"])({},this.formData);t.branchsIds=m["a"].uniqBy(t.userRoleItem.filter((function(e){return e.bid})).map((function(e){return e.bid})).concat(t.branchIds)).filter((function(e){return e})),t.groupsIds=m["a"].uniqBy(t.userRoleItem.filter((function(e){return e.gid})).map((function(e){return e.gid}))),t.rolesIds=m["a"].uniqBy(t.userRoleItem.filter((function(e){return e.rid})).map((function(e){return e.rid})).flat()),0===t.other&&(t.child=[]),m["a"].each(t.child,(function(e){e.other=t.other})),t.jobInfo.birthday=this.$options.filters.formTimestamp(t.jobInfo.birthday);var a=!1,o=[];if(m["a"].each(t.userRoleItem.filter((function(e){return e.bid})),(function(e){m["a"].isEmpty(e.rid)&&(a=!0),o.push({id:e.id||null,bid:e.bid,gid:e.gid,rid:e.rid.join()})})),!0!==a){var r=this.formTemp.officeList.find((function(t){return t.name===e.officeName}));if(!m["a"].isEmpty(r)&&m["a"].isObject(r)){var l=this.$options.filters.formTimestamp(this.formTemp.officeTime.startTime)||null,i=this.$options.filters.formTimestamp(this.formTemp.officeTime.endTime)||null;t.startTime=l,t.endTime=i,t.officeId=r.id}var s=[],d=!1;if(m["a"].each(this.formTemp.welfareList,(function(t){(m["a"].isEmpty(t.value)||1!==t.tye&&m["a"].isEmpty(t.demand))&&(d=!0),s.push({id:t.id||null,tye:t.tye,demand:t.demand,welfareId:t.welfareId,value:100*e.$options.filters.formatMoney(t.value),usersId:e.id})})),!0!==d){var c=!1,f=[];if(m["a"].each(t.jobInfo.schoolOld,(function(a){m["a"].isEmpty(a.name)||m["a"].isEmpty(a.major)||(m["a"].isArray(a.date)&&!m["a"].isEmpty(a.date)&&(a.startTime=e.$options.filters.formTimestamp(new Date(a.date[0]))||null,a.endTime=e.$options.filters.formTimestamp(new Date(a.date[1]))||null),(m["a"].isEmpty(a.startTime)||m["a"].isEmpty(a.endTime))&&(c=!0),f.push({id:a.id||null,name:a.name,major:a.major,remark:a.remark,startTime:a.startTime||0,endTime:a.endTime||0,jobInfoId:t.jobInfo.id}))})),!0!==c){var u=!1,h=[];if(m["a"].each(t.jobInfo.workOld,(function(a){m["a"].isEmpty(a.name)||m["a"].isEmpty(a.jobName)||(m["a"].isArray(a.date)&&!m["a"].isEmpty(a.date)&&(a.startTime=e.$options.filters.formTimestamp(new Date(a.date[0]))||null,a.endTime=e.$options.filters.formTimestamp(new Date(a.date[1]))||null),(m["a"].isEmpty(a.startTime)||m["a"].isEmpty(a.endTime))&&(u=!0),h.push({id:a.id||null,name:a.name,jobName:a.jobName,quit:a.quit,startTime:a.startTime||0,endTime:a.endTime||0,jobInfoId:t.jobInfo.id}))})),!0!==u){var p=[];m["a"].each(t.jobInfo.enclosure,(function(e){m["a"].isEmpty(e.name)||m["a"].isEmpty(e.url)||p.push({id:e.id||null,name:e.name,url:e.url,jobInfoId:t.jobInfo.id})})),t.jobInfo=Object(n["a"])(Object(n["a"])({},t.jobInfo),{},{schoolOld:f,workOld:h}),t.userRoleItem=o,t.welfareItem=s,t.jobInfo.enclosure=p,delete t.branchIds,delete t.welfareItemIds,this.handleSumbit(t)}else this.$Notice.warning({title:this.$t("dt.toast.tips"),desc:this.$t("dt.form.EducationRecord")+this.$t("dt.form.StartAndEndTime")+this.$t("dt.base.notFillIn")})}else this.$Notice.warning({title:this.$t("dt.toast.tips"),desc:this.$t("dt.form.EducationRecord")+this.$t("dt.form.StartAndEndTime")+this.$t("dt.base.notFillIn")})}else this.$Notice.warning({title:this.$t("dt.toast.tips"),desc:this.$t("dt.form.WelfareName")+this.$t("dt.base.notFillIn")})}else this.$Notice.warning({title:this.$t("dt.toast.tips"),desc:this.$t("dt.form.checkFormComplete")})}}},b=p,$=(a("35c0"),a("c701")),v=Object($["a"])(b,o,r,!1,null,"882a6bae",null);t["a"]=v.exports},"35c0":function(e,t,a){"use strict";a("f8de")},"9c05":function(e,t,a){"use strict";var o=a("47c2"),r=a("d376"),l=a("d49d"),n=a("3f5a"),i=a("38f9"),s=a("936a");o({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=l(this),a=n(t.length),o=s(t,0);return o.length=r(o,t,t,a,0,void 0===e?1:i(e)),o}})},c627:function(e,t,a){var o=a("3592");o("flat")},d376:function(e,t,a){"use strict";var o=a("6db8"),r=a("3f5a"),l=a("7144"),n=function(e,t,a,i,s,d,m,c){var f,u=s,h=0,p=!!m&&l(m,c,3);while(h<i){if(h in a){if(f=p?p(a[h],h,t):a[h],d>0&&o(f))u=n(e,t,f,r(f.length),u,d-1)-1;else{if(u>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[u]=f}u++}h++}return u};e.exports=n},ee8a:function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Cascader",{attrs:{"change-on-select":"",data:e.formTemp.data,placeholder:e.$t("dt.base.pleaseSelect",{label:e.label}),"load-data":e.loadData},on:{"on-change":e.handleOnChange},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})},r=[],l=(a("2c78"),a("9953"),a("422c"),a("64fe"),a("02bf"),a("4798"),a("845c"),a("9151"),a("1f90"),a("066a"),a("4c09"));function n(e){if(Array.isArray(e))return e}a("06f5"),a("cb5f"),a("f79d");function i(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],o=!0,r=!1,l=void 0;try{for(var n,i=e[Symbol.iterator]();!(o=(n=i.next()).done);o=!0)if(a.push(n.value),t&&a.length===t)break}catch(s){r=!0,l=s}finally{try{o||null==i["return"]||i["return"]()}finally{if(r)throw l}}return a}}var s=a("69a9");function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){return n(e)||i(e,t)||Object(s["a"])(e,t)||d()}a("6a61");var c=a("2e91"),f=a("b8f9"),u={name:"Address",data:function(){return{value:[],fullAddress:null,formTemp:{data:[]}}},props:{label:{type:String,default:""},data:{type:Array,default:function(){return[]}},level:{type:Number,default:5}},computed:{},created:function(){window.aa=this,this.handleGetAddress()},mounted:function(){this.value=this.data},watch:{data:function(e,t){e!==t&&this.handleInitAreas()},value:function(e,t){f["a"].isEmpty(e)||e===t||this.handleValueChangeEmit()}},methods:{hanleAreas:function(){var e=arguments,t=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){var o,r,l,n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(o=e.length>0&&void 0!==e[0]?e[0]:"0",r=e.length>1&&void 0!==e[1]?e[1]:null,"0"!==o){a.next=8;break}return a.next=5,t.$Local.get("PROV_LIST");case 5:if(l=a.sent,f["a"].isEmpty(l.data)){a.next=8;break}return a.abrupt("return",l.data);case 8:return a.next=10,t.$Http.Post({mutation:t.$Model.ChinaAreas,variables:{perPage:0,filter:{pid:o},sort:[{createdAt:"ASC"}]},fields:[{data:["value","label","pid"]}]}).then((function(e){return e}));case 10:return n=a.sent,i=n.data,setTimeout((function(){4!==t.value.length&&3!==r&&f["a"].each(i.data,(function(e){e.children=[],e.loading=!1}))}),0),"0"===o&&(f["a"].each(i.data,(function(e){e.children=[],e.loading=!1})),t.$Local.set("PROV_LIST",i.data)),a.abrupt("return",i.data);case 15:case"end":return a.stop()}}),a)})))()},handleGetAddress:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.hanleAreas("0");case 2:a=t.sent,e.formTemp.data=a;case 4:case"end":return t.stop()}}),t)})))()},loadData:function(e,t){var a=this;return Object(c["a"])(regeneratorRuntime.mark((function o(){var r;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(void 0===e.children){o.next=8;break}return e.loading=!0,o.next=4,a.hanleAreas(e.value);case 4:r=o.sent,e.children=r,e.loading=!1,f["a"].isEmpty(e.children)&&delete e.loading;case 8:t();case 9:case"end":return o.stop()}}),o)})))()},handleInitAreas:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a,o,r,l,n,i,s,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(e.data.filter((function(e){return!f["a"].isEmpty(e)})).map((function(t,a){return e.hanleAreas(t,a)})));case 2:a=t.sent,o=m(a,5),r=o[0],l=o[1],n=o[2],i=o[3],s=o[4],d=e.formTemp.data,e.data.filter((function(e){return e})).forEach((function(e,t){var a=d.findIndex((function(t){return t.value===e}));-1!==a&&(0===t?d=d[a].children=r:1===t?d=d[a].children=l:2===t?d=d[a].children=n:3===t?d=d[a].children=i:4===t&&(d=d[a].children=s))})),e.value=e.data;case 12:case"end":return t.stop()}}),t)})))()},handleOnChange:function(e,t){this.fullAddress=t.map((function(e){return e.label})).join("")},handleValueChangeEmit:function(){var e="",t="",a="",o="",r="",n=Object(l["a"])(this.value),i=n[0];e=void 0===i?"":i;var s=n[1];t=void 0===s?"":s;var d=n[2];a=void 0===d?"":d;var m=n[3];o=void 0===m?"":m;var c=n[4];r=void 0===c?"":c;var u={prov:e,city:t,area:a,town:o,village:r};f["a"].isEmpty(this.fullAddress)||(u.fullAddress=this.fullAddress),this.$emit("handleAddressChange",u)}}},h=u,p=a("c701"),b=Object(p["a"])(h,o,r,!1,null,"1b089e4e",null);t["a"]=b.exports},f8de:function(e,t,a){}}]);